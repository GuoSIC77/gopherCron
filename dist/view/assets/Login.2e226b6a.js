import{Q as d}from"./QInput.75b94522.js";import{f as m,k as f,B as p,t,aD as v,r as w,b8 as b,q as l,m as y,D as B,u as F,z as C,A as D,Q as c}from"./index.e18600f8.js";import{Q as V}from"./QForm.7e1af889.js";import"./use-key-composition.4a5ce83a.js";import"./use-dark.f89e8300.js";import"./uid.81432f81.js";import"./focus-manager.32f8d49a.js";const k=["src"],Q=t("div",{class:"tw-font-bold tw-text-md tw-text-center"},"GOPHERCRON",-1),R=m({props:{class:{type:String,default:""},src:{type:String,default:"/logo.png"}},setup(u){const o=u;return(n,a)=>(f(),p("div",{class:v(o.class+" tw-flex tw-items-center tw-flex-col")},[t("img",{src:u.src,alt:"logo"},null,8,k),Q],2))}}),q={class:"tw-h-full tw-bg-gradient-to-tl tw-from-primary tw-to-black tw-w-full tw-px-4"},A={class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-h-full tw-w-full"},N={class:"tw-bg-[#1D1D1D] tw-shadow tw-rounded tw-max-w-md lg:tw-w-1/3 sm:tw-w-2/3 tw-w-full tw-p-10 md:tw-mt-6 tw-mt-2"},S=t("p",{tabindex:"0",class:"focus:tw-outline-none tw-text-2xl tw-font-extrabold tw-leading-6"}," \u8D26\u53F7\u5BC6\u7801\u767B\u5F55 ",-1),E=t("p",{tabindex:"0",class:"tw-pb-8 focus:tw-outline-none tw-text-sm tw-mt-4 tw-font-medium tw-leading-none tw-text-gray-500"},[B(" \u6CA1\u6709\u8D26\u53F7? "),t("a",{href:"javascript:void(0)",class:"hover:text-gray-500 focus:text-gray-500 focus:outline-none focus:underline hover:underline text-sm font-medium leading-none text-gray-800 cursor-pointer"},"\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u5F00\u901A")],-1),$=t("label",{id:"email",class:"tw-text-sm tw-font-medium tw-leading-none tw-text-white"},"\u8D26\u53F7",-1),j={class:"tw-mt-6 tw-w-full"},z=t("label",{for:"pass",class:"tw-text-sm tw-font-medium tw-leading-none tw-text-white"},"\u5BC6\u7801",-1),O={class:"tw-mt-8"},J=m({setup(u){const o=w(""),n=w(""),a=F(),x=C(),g=D(),r=w(!1);async function _(){if(r.value=!0,await a.dispatch("login",{username:o.value,password:n.value}),a.state.Root.logined){const s=g.query.redirect;let e="/";typeof s=="string"?e=s:s&&s.length>0&&(e=s[0]||e),await x.push(e)}r.value=!1}function h(){o.value="",n.value=""}return b(()=>a.commit("unauthed")),(s,e)=>(f(),p("div",q,[t("div",A,[l(R,{class:"tw-w-24 md:tw-w-32",src:"/logo_white.png"}),t("div",N,[S,E,l(V,{onSubmit:_,onReset:h},{default:y(()=>[t("div",null,[$,l(d,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=i=>o.value=i),dense:"",type:"text",square:"",filled:""},null,8,["modelValue"])]),t("div",j,[z,l(d,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=i=>n.value=i),dense:"",type:"password",square:"",filled:""},null,8,["modelValue"])]),t("div",O,[l(c,{color:"primary",type:"submit",label:"\u767B\u5F55","text-color":"black",loading:r.value,class:"focus:tw-ring-2 focus:tw-ring-offset-2 tw-font-semibold tw-leading-none tw-text-black tw-outline-non tw-border tw-rounded tw-py-2 tw-w-full"},null,8,["loading"]),l(c,{color:"primary",type:"reset",label:"\u91CD\u7F6E",flat:"",class:"tw-text-sm tw-w-full tw-mt-3 tw-border tw-rounded"})])]),_:1})])])]))}});export{J as default};
