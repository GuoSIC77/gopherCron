import{_ as q,k as S,l as I,u as N,r as y,o as g,c as j,A as c,E as H,m as ee,n as ve,w as t,a as e,M as ge,Q as $,K as E,f as Q,x as F,C as B,h as C,i as Y,F as O,I as te,e as A,z as le,aq as oe,b as n,a8 as K,t as D,Y as z,D as X,p as P,d as U,ar as _e,aa as M,as as ye,at as he,al as ae,T,U as R,ac as W,S as L,au as ke,X as xe,q as G,av as be,aw as je,ax as Ve,ag as se,a2 as ue,a4 as Ie,H as ne}from"./index.1e2cf3d3.js";import{C as J}from"./Confirm.723e08a3.js";import{f as re}from"./datetime.561112b0.js";import{t as Ce,b as Ee}from"./thumbStyle.856de4cb.js";const Ue=S({props:{projectId:{type:Number,required:!0},orgId:{type:String,required:!0},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(o,{emit:k}){const a=o,m=I({get:()=>a.modelValue,set:w=>k("update:modelValue",w)}),i=N(),p=I(()=>i.state.Project.projects.find(w=>w.id===a.projectId)),d=y(!1);async function h(w){d.value=!0;try{i.commit("cleanError"),await i.dispatch("deleteProject",{projectId:w,orgId:a.orgId}),i.state.Root.currentError===void 0&&(m.value=!1)}catch(b){console.error(b),i.commit("error",{error:b})}d.value=!1}return(w,b)=>{var v;return g(),j(J,{modelValue:c(m),"onUpdate:modelValue":b[0]||(b[0]=x=>H(m)?m.value=x:null),content:"\u662F\u5426\u8981\u5220\u9664\u9879\u76EE"+((v=c(p))==null?void 0:v.title)+"?",type:"warning",loading:d.value,onConfirm:b[1]||(b[1]=x=>c(p)&&h(c(p).id))},null,8,["modelValue","content","loading"])}}});var ie=q(Ue,[["__file","/Users/boyan/development/opensource/gopherCronFE/src/components/DialogProjectDeleteConfirm.vue"]]);const $e={key:0,class:"text-h6"},Fe={key:1,class:"text-h6"},Be=S({props:{projectId:{type:Number,default:0},modelValue:{type:Boolean,default:!1},orgId:{type:String,required:!0}},emits:["update:modelValue"],setup(o,{emit:k}){const a=o,m=I({get:()=>a.modelValue,set:u=>k("update:modelValue",u)}),i=N(),p=I(()=>i.state.Project.projects.find(u=>u.id===a.projectId)),d=I(()=>{const u=p.value;return{title:(u==null?void 0:u.title)||"",remark:(u==null?void 0:u.remark)||""}}),h=y(d.value),w=I(()=>{const u=h.value,_=d.value;return u.title.trim()===_.title.trim()&&u.remark.trim()===_.remark.trim()}),b=I(()=>h.value.title.trim()!==""&&!w.value);ee(()=>{ve(()=>{m.value||(h.value=Object.assign({},d.value))})});const v=y(!1);async function x(){v.value=!0;try{const u=h.value;i.commit("cleanError"),a.projectId>0?await i.dispatch("updateProject",{projectId:a.projectId,title:u.title.trim(),remark:u.remark.trim(),orgId:a.orgId}):await i.dispatch("createProject",{orgId:a.orgId,title:u.title.trim(),remark:u.remark.trim()}),i.state.Root.currentError===void 0&&(m.value=!1)}catch(u){console.error(u),i.commit("error",{error:u})}v.value=!1}return(u,_)=>(g(),j(O,{modelValue:c(m),"onUpdate:modelValue":_[2]||(_[2]=V=>H(m)?m.value=V:null),"no-backdrop-dismiss":!c(w)},{default:t(()=>[e(Y,{class:"tw-w-96 q-pa-sm"},{default:t(()=>[e(ge,{onSubmit:x},{default:t(()=>[e($,null,{default:t(()=>[c(p)===void 0?(g(),E("div",$e,"\u521B\u5EFA\u9879\u76EE")):(g(),E("div",Fe,"\u7F16\u8F91\u9879\u76EE"))]),_:1}),e($,null,{default:t(()=>[e(Q,{modelValue:h.value.title,"onUpdate:modelValue":_[0]||(_[0]=V=>h.value.title=V),type:"text",label:"\u9879\u76EE\u540D",square:"",filled:"",class:"tw-mb-4"},null,8,["modelValue"]),e(Q,{modelValue:h.value.remark,"onUpdate:modelValue":_[1]||(_[1]=V=>h.value.remark=V),type:"textarea",label:"\u5907\u6CE8",square:"",filled:""},null,8,["modelValue"])]),_:1}),e($,{align:"right",class:"tw-flex tw-gap-4 tw-flex-col-reverse lg:tw-flex-row lg:tw-justify-end"},{default:t(()=>[F(e(C,{flat:"",label:"\u53D6\u6D88",class:"lg:tw-w-24 tw-w-full"},null,512),[[B,!0]]),e(C,{color:"primary","text-color":"black",type:"submit",label:c(p)===void 0?"\u521B\u5EFA":"\u4FDD\u5B58",disable:!c(b),loading:v.value,class:"lg:tw-w-24 tw-w-full"},null,8,["label","disable","loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","no-backdrop-dismiss"]))}});var de=q(Be,[["__file","/Users/boyan/development/opensource/gopherCronFE/src/components/DialogProjectForm.vue"]]);function De(o){return o?o.indexOf("manager")!==-1||o.indexOf("admin")!==-1:!1}function Pe(o){return o.indexOf("admin")!==-1}const ce=[{value:"admin",label:"\u7BA1\u7406\u5458"},{value:"manager",label:"\u53EF\u7F16\u8F91"},{value:"user",label:"\u4EC5\u67E5\u770B"}],pe=new Map;ce.forEach((o,k,a)=>{pe.set(o.value,o.label)});function qe(o){return pe.get(o)}const Se=n("div",{class:"text-h6"},"\u9879\u76EE\u6210\u5458\u7BA1\u7406",-1),Ae=U(" \u6DFB\u52A0 "),Me={role:"list",class:"tw-divide-y tw-divide-white/5"},Qe={class:"tw-min-w-0 tw-flex-auto"},Te={class:"tw-flex tw-items-center tw-gap-x-3"},Re=n("div",{class:"flex-none rounded-full p-1"},[n("div",{class:"tw-h-2 tw-w-2 tw-rounded-full tw-bg-current"})],-1),We={class:"tw-min-w-0 tw-text-sm tw-font-semibold tw-leading-6 tw-text-white"},Le={class:"tw-flex tw-gap-x-2"},Ne={class:"tw-whitespace-nowrap"},He=n("span",{class:"tw-text-gray-400"}," - ",-1),Ye={class:"tw-whitespace-nowrap tw-opacity-75"},Oe={class:"tw-mt-1 tw-flex tw-items-center tw-gap-x-2.5 tw-text-xs tw-leading-5 tw-text-gray-400"},ze={class:"tw-truncate tw-text-primary"},Ge=n("svg",{viewbox:"0 0 2 2",class:"tw-h-0.5 tw-w-0.5 tw-flex-none tw-fill-gray-300"},[n("circle",{cx:"1",cy:"1",r:"1"})],-1),Ke={class:"tw-whitespace-nowrap"},Xe={class:"rounded-full flex-none py-1 px-2 text-xs font-medium ring-1 ring-inset"},Je=U("\u79FB\u9664"),Ze=S({props:{projectId:{type:Number,default:0},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(o,{emit:k}){const a=o,m=y("user"),i=I({get:()=>a.modelValue,set:s=>k("update:modelValue",s)}),p=y([]);async function d(){p.value=await _e(M,a.projectId)}te(()=>[a.projectId,i.value],async([,s])=>{s&&d(),h.value=""});const h=y(""),w=y(!1);async function b(){w.value=!0;try{await ye(M,a.projectId,h.value,m.value),h.value="",await d()}finally{w.value=!1}}const v=y(),x=y(!1);function u(s){v.value=s,x.value=!0}function _(){v.value=void 0,x.value=!1}async function V(s){w.value=!0;try{await he(M,a.projectId,s.id),await d()}finally{w.value=!1}}return(s,f)=>(g(),j(O,{modelValue:c(i),"onUpdate:modelValue":f[4]||(f[4]=r=>H(i)?i.value=r:null)},{default:t(()=>{var r;return[e(J,{modelValue:x.value,"onUpdate:modelValue":f[0]||(f[0]=l=>x.value=l),type:"warning",content:`\u786E\u5B9A\u8981\u79FB\u9664\u7528\u6237 ${(r=v.value)==null?void 0:r.name} \u5417\uFF1F`,onConfirm:f[1]||(f[1]=l=>v.value&&V(v.value).then(_))},null,8,["modelValue","content"]),e(Y,{class:"tw-w-full tw-mx-6 lg:tw-w-1/2"},{default:t(()=>[e($,null,{default:t(()=>[Se]),_:1}),e(A),e($,{class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-2"},{default:t(()=>[e(Q,{modelValue:h.value,"onUpdate:modelValue":f[2]||(f[2]=l=>h.value=l),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u5E10\u53F7",dense:"",outlined:"",class:"tw-grow"},null,8,["modelValue"]),e(le,{modelValue:m.value,"onUpdate:modelValue":f[3]||(f[3]=l=>m.value=l),outlined:"",dense:"",class:"tw-w-full md:tw-w-32","emit-value":"","map-options":"",placeholder:"\u8BF7\u9009\u62E9\u7528\u6237\u6743\u9650",options:c(ce)},null,8,["modelValue","options"]),e(C,{loading:w.value,outline:"","text-color":"primary",onClick:b},{default:t(()=>[Ae]),_:1},8,["loading"])]),_:1}),e(A),e($,{style:{"max-height":"40vh",height:"40vh"},class:"scroll"},{default:t(()=>[e(oe,{class:"tw-w-full tw-h-full",offset:100},{default:t(()=>[n("ul",Me,[(g(!0),E(z,null,K(p.value,l=>(g(),E("li",{key:l.id,class:"tw-relative tw-flex tw-items-center tw-space-x-4 tw-py-2"},[n("div",Qe,[n("div",Te,[Re,n("h2",We,[n("a",Le,[n("span",Ne,D(l.name),1),He,n("span",Ye,D(l.permissions&&c(qe)(l.permissions[0])),1)])])]),n("div",Oe,[n("p",ze,D(l.account),1),Ge,n("p",Ke,D(c(re)(l.createTime*1e3,"YYYY-MM-DD HH:mm")),1)])]),n("div",Xe,[e(C,{type:"primary",unelevated:"",class:"tw-text-red-500",onClick:we=>u(l)},{default:t(()=>[Je]),_:2},1032,["onClick"])])]))),128))])]),_:1})]),_:1}),e(A),e(X,{align:"right"},{default:t(()=>[F(e(C,{flat:"",label:"\u5173\u95ED",color:"primary"},null,512),[[B,!0]])]),_:1})]),_:1}),P(` <q-card class="tw-w-96 q-pa-sm">
      <q-card-section>
        <div class="text-h6">\u9879\u76EE\u4EBA\u5458\u7BA1\u7406</div>
      </q-card-section>
      <q-card-section>
        <q-chip
          v-for="user of users"
          :key="user.id"
          removable
          color="primary"
          text-color="black"
          @remove="openRemoveUserConfirm(user)"
        >
          {{ user.name }}
        </q-chip>
      </q-card-section>
      <q-card-actions>
        <q-input
          v-model="newUser"
          class="tw-w-full"
          placeholder="\u8BF7\u8F93\u5165\u7528\u6237\u5E10\u53F7"
        >
          <template #append>
            <q-btn
              :loading="loading"
              flat
              icon="add"
              text-color="primary"
              @click="onSubmit"
            >
              \u6DFB\u52A0
            </q-btn>
          </template>
        </q-input>
      </q-card-actions>
    </q-card> `)]}),_:1},8,["modelValue"]))}});var Z=q(Ze,[["__file","/Users/boyan/development/opensource/gopherCronFE/src/components/DialogProjectUsersManage.vue"]]);async function et(o){return(await M.post("/webhook/create",{project_id:o.projectId,call_back_url:o.callBackUrl,type:o.type})).data}async function tt(o,k){return(await M.post("/webhook/delete",{project_id:o,type:k})).data}async function lt(o){const a=(await M.get("/webhook/list",{params:{project_id:o}})).data,m=a.response?a.response:[],i=[];return m.forEach((p,d)=>{i.push({projectId:p.project_id,type:p.type,callBackUrl:p.callback_url,createTime:p.create_time})}),i}const fe=[{value:"task-result",label:"\u6267\u884C\u7ED3\u675F"},{value:"task-failure",label:"\u6267\u884C\u5931\u8D25"}],me=new Map;fe.forEach((o,k,a)=>{me.set(o.value,o.label)});function ot(o){return me.get(o)}const at=n("div",{class:"text-h6"},"WebHook\u7BA1\u7406",-1),st=U(" \u6DFB\u52A0 "),ut={role:"list",class:"tw-divide-y tw-divide-white/5"},nt={class:"tw-min-w-0 tw-flex-auto"},rt={class:"tw-flex tw-items-center tw-gap-x-3"},it=n("div",{class:"flex-none rounded-full p-1"},[n("div",{class:"tw-h-2 tw-w-2 tw-rounded-full tw-bg-current"})],-1),dt={class:"tw-min-w-0 tw-text-sm tw-font-semibold tw-leading-6 tw-text-white"},ct={class:"tw-flex tw-gap-x-2"},pt={class:"tw-whitespace-nowrap"},ft={class:"tw-mt-1 tw-flex tw-items-center tw-gap-x-2.5 tw-text-xs tw-leading-5 tw-text-gray-400"},mt={class:"tw-truncate tw-text-primary"},wt=n("svg",{viewbox:"0 0 2 2",class:"tw-h-0.5 tw-w-0.5 tw-flex-none tw-fill-gray-300"},[n("circle",{cx:"1",cy:"1",r:"1"})],-1),vt={key:0,class:"tw-whitespace-nowrap"},gt={class:"rounded-full flex-none py-1 px-2 text-xs font-medium ring-1 ring-inset"},_t=U("\u79FB\u9664"),yt=S({props:{projectId:{type:Number,default:0},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(o,{emit:k}){const a=o,m=I({get:()=>a.modelValue,set:s=>k("update:modelValue",s)}),i=y([]);async function p(){i.value=await lt(a.projectId)}te(()=>[a.projectId,m.value],async([,s])=>{s&&p(),h()});const d=y({callBackUrl:"",type:"task-result",projectId:a.projectId});function h(){d.value={callBackUrl:"",type:"task-result",createTime:void 0,projectId:a.projectId}}const w=y(!1);async function b(){if(!!d.value){w.value=!0;try{await et({projectId:Number(d.value.projectId),callBackUrl:d.value.callBackUrl,type:d.value.type}),h(),await p()}finally{w.value=!1}}}const v=y(),x=y(!1);function u(s){v.value=s,x.value=!0}function _(){v.value=void 0,x.value=!1}async function V(s){w.value=!0;try{await tt(s.projectId,s.type),await p()}finally{w.value=!1}}return(s,f)=>(g(),j(O,{modelValue:c(m),"onUpdate:modelValue":f[4]||(f[4]=r=>H(m)?m.value=r:null)},{default:t(()=>{var r;return[e(J,{modelValue:x.value,"onUpdate:modelValue":f[0]||(f[0]=l=>x.value=l),type:"warning",content:`\u786E\u5B9A\u8981\u79FB\u9664 ${(r=v.value)==null?void 0:r.callBackUrl} \u5417\uFF1F`,onConfirm:f[1]||(f[1]=l=>v.value&&V(v.value).then(_))},null,8,["modelValue","content"]),e(Y,{class:"tw-w-full tw-mx-6 lg:tw-w-1/2"},{default:t(()=>[e($,null,{default:t(()=>[at]),_:1}),e(A),e($,{class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-2"},{default:t(()=>[e(Q,{modelValue:d.value.callBackUrl,"onUpdate:modelValue":f[2]||(f[2]=l=>d.value.callBackUrl=l),placeholder:"\u8BF7\u8F93\u5165webhook\u5730\u5740",dense:"",outlined:"",class:"tw-grow"},null,8,["modelValue"]),e(le,{modelValue:d.value.type,"onUpdate:modelValue":f[3]||(f[3]=l=>d.value.type=l),outlined:"",dense:"",class:"tw-w-full md:tw-w-32","emit-value":"","map-options":"",placeholder:"\u8BF7\u9009\u62E9hook\u7C7B\u578B",options:c(fe)},null,8,["modelValue","options"]),e(C,{loading:w.value,outline:"","text-color":"primary",onClick:b},{default:t(()=>[st]),_:1},8,["loading"])]),_:1}),e(A),e($,{style:{"max-height":"40vh",height:"40vh"},class:"scroll"},{default:t(()=>[e(oe,{class:"tw-w-full tw-h-full",offset:100},{default:t(()=>[n("ul",ut,[(g(!0),E(z,null,K(i.value,l=>(g(),E("li",{key:l.type,class:"tw-relative tw-flex tw-items-center tw-space-x-4 tw-py-2"},[n("div",nt,[n("div",rt,[it,n("h2",dt,[n("a",ct,[n("span",pt,D(l.callBackUrl),1)])])]),n("div",ft,[n("p",mt,D(c(ot)(l.type)),1),wt,l.createTime?(g(),E("p",vt,D(c(re)(l.createTime*1e3,"YYYY-MM-DD HH:mm")),1)):P("v-if",!0)])]),n("div",gt,[e(C,{type:"primary",unelevated:"",class:"tw-text-red-500",onClick:we=>u(l)},{default:t(()=>[_t]),_:2},1032,["onClick"])])]))),128))])]),_:1})]),_:1}),e(A),e(X,{align:"right"},{default:t(()=>[F(e(C,{flat:"",label:"\u5173\u95ED",color:"primary"},null,512),[[B,!0]])]),_:1})]),_:1})]}),_:1},8,["modelValue"]))}});var ht=q(yt,[["__file","/Users/boyan/development/opensource/gopherCronFE/src/components/DialogProjectWebhookManage.vue"]]);const kt=U("\u7F16\u8F91"),xt=U("\u4EBA\u5458\u7BA1\u7406"),bt=U("Webhook"),jt=U("\u9879\u76EEtoken"),Vt=U("\u5220\u9664"),It={class:"text-h6"},Ct=U(" \u9879\u76EE Token "),Et={class:"!tw-text-base"},Ut=S({props:{projectId:{type:Number,required:!0},role:{type:String,default:""},orgId:{type:String,required:!0}},setup(o){const k=o,a=y(!1),m=N(),i=y(!1),p=y(!1),d=y(!1),h=y(!1),w=y(!1),b=y(!1),v=y(""),x=y(!1);async function u(){x.value=!1,v.value="",w.value=!0,b.value=!0;try{const f=await be(k.projectId);v.value=f}catch(f){console.error(f),m.commit("error",{error:f})}b.value=!1}function _(){je(v.value).then(()=>{m.commit("success",{message:"token\u5DF2\u590D\u5236"})})}const V=y(!1);async function s(){V.value=!0;try{v.value=await Ve(k.projectId)}catch(f){console.error(f),m.commit("error",{error:f})}V.value=!1,x.value=!1}return(f,r)=>(g(),E(z,null,[e(ie,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=l=>i.value=l),"project-id":k.projectId,"org-id":o.orgId},null,8,["modelValue","project-id","org-id"]),e(de,{modelValue:p.value,"onUpdate:modelValue":r[1]||(r[1]=l=>p.value=l),"project-id":k.projectId,"org-id":o.orgId},null,8,["modelValue","project-id","org-id"]),e(Z,{modelValue:d.value,"onUpdate:modelValue":r[2]||(r[2]=l=>d.value=l),"project-id":k.projectId},null,8,["modelValue","project-id"]),e(ht,{modelValue:h.value,"onUpdate:modelValue":r[3]||(r[3]=l=>h.value=l),"project-id":k.projectId},null,8,["modelValue","project-id"]),e(Z),e(ke,{modelValue:a.value,"onUpdate:modelValue":r[8]||(r[8]=l=>a.value=l),flat:"","dropdown-icon":"more_horiz","no-icon-animation":""},{default:t(()=>[e(ae,{dense:""},{default:t(()=>[F((g(),j(L,{clickable:"",class:"hover:tw-bg-primary hover:tw-text-black",onClick:r[4]||(r[4]=W(l=>p.value=!0,["stop"]))},{default:t(()=>[e(T,null,{default:t(()=>[e(R,null,{default:t(()=>[kt]),_:1})]),_:1})]),_:1})),[[B,!0]]),F((g(),j(L,{clickable:"",class:"hover:tw-bg-primary hover:tw-text-black",onClick:r[5]||(r[5]=W(l=>d.value=!0,["stop"]))},{default:t(()=>[e(T,null,{default:t(()=>[e(R,null,{default:t(()=>[xt]),_:1})]),_:1})]),_:1})),[[B,!0]]),F((g(),j(L,{clickable:"",class:"hover:tw-bg-primary hover:tw-text-black",onClick:r[6]||(r[6]=W(l=>h.value=!0,["stop"]))},{default:t(()=>[e(T,null,{default:t(()=>[e(R,null,{default:t(()=>[bt]),_:1})]),_:1})]),_:1})),[[B,!0]]),c(Pe)(o.role)?F((g(),j(L,{key:0,clickable:"",class:"hover:tw-bg-primary hover:tw-text-black",onClick:W(u,["stop"])},{default:t(()=>[e(T,null,{default:t(()=>[e(R,null,{default:t(()=>[jt]),_:1})]),_:1})]),_:1},8,["onClick"])),[[B,!0]]):P("v-if",!0),F((g(),j(L,{clickable:"",class:"hover:tw-bg-primary hover:tw-text-black",onClick:r[7]||(r[7]=W(l=>i.value=!0,["stop"]))},{default:t(()=>[e(T,null,{default:t(()=>[e(R,null,{default:t(()=>[Vt]),_:1})]),_:1})]),_:1})),[[B,!0]])]),_:1})]),_:1},8,["modelValue"]),e(O,{modelValue:w.value,"onUpdate:modelValue":r[11]||(r[11]=l=>w.value=l)},{default:t(()=>[e(Y,{class:"tw-w-[400px] tw-max-w-full"},{default:t(()=>[e($,null,{default:t(()=>[n("div",It,[Ct,n("span",Et," (ID: "+D(o.projectId)+") ",1)])]),_:1}),e($,{class:"q-pt-none"},{default:t(()=>[b.value?(g(),j(xe,{key:0,type:"rect"})):(g(),j(Q,{key:1,modelValue:v.value,"onUpdate:modelValue":r[9]||(r[9]=l=>v.value=l),dark:"",borderless:"",readonly:!0},{append:t(()=>[e(G,{name:"file_copy",class:"tw-cursor-pointer",onClick:_})]),_:1},8,["modelValue"]))]),_:1}),e(X,{align:"right"},{default:t(()=>[x.value?P("v-if",!0):F((g(),j(C,{key:0,flat:"",label:"\u91CD\u7F6E",color:"warning",onClick:r[10]||(r[10]=l=>x.value=!0)},null,512)),[[B,!0]]),x.value?(g(),j(C,{key:1,flat:"",label:"\u6211\u786E\u5B9A\u91CD\u7F6E",color:"red",loading:V.value,onClick:s},null,8,["loading"])):P("v-if",!0),F(e(C,{flat:"",label:"\u5173\u95ED",color:"primary"},null,512),[[B,!0]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}});var $t=q(Ut,[["__file","/Users/boyan/development/opensource/gopherCronFE/src/components/DropdownProjectManage.vue"]]);const Ft={class:"tw-h-full tw-w-full tw-flex tw-flex-col"},Bt={class:"q-pa-md tw-flex tw-justify-around"},Dt={key:0,class:"tw-w-full tw-text-center tw-m-auto tw-text-gray-500"},Pt=U(" \u6682\u65E0\u6570\u636E "),qt=S({props:{orgId:{type:String,required:!0}},setup(o){const k=o,a=N(),m=I(()=>a.state.Project.loadingProjects);async function i(){await a.dispatch("Project/fetchProjects",{orgId:k.orgId})}ee(i);const p=y(""),d=I(()=>a.state.Project.projects.filter(u=>u.title.indexOf(p.value)>=0||u.id.toString().indexOf(p.value)>=0));function h(u){return ne().params.projectId===u.id.toString()}const w=y(!1),b=y(!1),v=I(()=>d.value.filter(h).pop()),x=I(()=>a.getters.isAdmin);return(u,_)=>{const V=se("router-link");return g(),E("div",Ft,[c(v)?(g(),j(ie,{key:0,modelValue:b.value,"onUpdate:modelValue":_[0]||(_[0]=s=>b.value=s),"project-id":c(v).id,"org-id":o.orgId},null,8,["modelValue","project-id","org-id"])):P("v-if",!0),e(de,{modelValue:w.value,"onUpdate:modelValue":_[1]||(_[1]=s=>w.value=s),"org-id":o.orgId},null,8,["modelValue","org-id"]),n("div",Bt,[e(Q,{modelValue:p.value,"onUpdate:modelValue":_[2]||(_[2]=s=>p.value=s),borderless:"",dense:"",debounce:"300",placeholder:"Search"},{append:t(()=>[e(G,{name:"search"})]),_:1},8,["modelValue"]),e(C,{flat:"",dense:"",loading:c(m),icon:"refresh",onClick:i},null,8,["loading"]),e(C,{flat:"",dense:"",icon:"add",onClick:_[3]||(_[3]=s=>w.value=!0)}),e(C,{flat:"",dense:"",class:"tw-text-red-300 lg:tw-flex tw-hidden",icon:"delete",disable:!c(v),onClick:_[4]||(_[4]=s=>b.value=!0)},null,8,["disable"])]),e(Ie,{class:"tw-grow tw-px-[15px]",visible:"","thumb-style":c(Ce),"bar-style":c(Ee)},{default:t(()=>[e(ae,{class:"tw-flex tw-flex-col tw-gap-2 tw-pb-4"},{default:t(()=>[(g(!0),E(z,null,K(c(d),s=>(g(),E("div",{key:s.id,class:ue((h(s)?"tw-bg-primary tw-text-black ":"tw-bg-[#27272a] ")+"tw-w-full tw-flex tw-flex-row tw-rounded-lg")},[e(V,{class:"tw-grow tw-p-4",to:{name:"project",params:{projectId:s.id}}},{default:t(()=>[U(D(s.title),1)]),_:2},1032,["to"]),c(x)||c(De)(s.role)?(g(),j($t,{key:0,"project-id":s.id,"org-id":o.orgId,role:s.role},null,8,["project-id","org-id","role"])):P("v-if",!0)],2))),128))]),_:1}),!c(m)&&(!c(d)||c(d).length===0)?(g(),E("div",Dt,[e(G,{name:"outlet",style:{"font-size":"3rem"}}),Pt])):P("v-if",!0)]),_:1},8,["thumb-style","bar-style"])])}}});var St=q(qt,[["__file","/Users/boyan/development/opensource/gopherCronFE/src/components/ProjectList.vue"]]);const At={class:"lg:tw-flex lg:tw-flex-row tw-w-full tw-h-full"},Mt=S({props:{orgId:{type:String,required:!0}},setup(o){const k=ne(),a=I(()=>k.name&&k.name.toString()!=="projects"?"tw-hidden lg:tw-block":"");return(m,i)=>{const p=se("router-view");return g(),E("div",At,[n("div",{class:ue("xl:tw-basis-1/5 tw-basis-1/4 tw-h-full tw-w-full tw-min-w-[280px] "+c(a))},[o.orgId?(g(),j(St,{key:0,"org-id":o.orgId},null,8,["org-id"])):P("v-if",!0)],2),e(p)])}}});var Lt=q(Mt,[["__file","/Users/boyan/development/opensource/gopherCronFE/src/pages/ProjectList.vue"]]);export{Lt as default};
