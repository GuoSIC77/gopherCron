var ve=Object.defineProperty,he=Object.defineProperties;var me=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var ge=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable;var I=(e,n,a)=>n in e?ve(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,i=(e,n)=>{for(var a in n||(n={}))ge.call(n,a)&&I(e,a,n[a]);if(H)for(var a of H(n))be.call(n,a)&&I(e,a,n[a]);return e},b=(e,n)=>he(e,me(n));import{a as U,r as V,c as l,w as j,p as qe,h as f,T as Se,U as ke,g as X,b as ye,ay as Ce,X as G,aA as xe,az as Pe,af as Be,V as Te,y as R,aM as Oe}from"./index.8ec00635.js";import{u as _e,v as L,b as Re,d as we,a as Ee,e as Fe,r as $,s as Ae,p as W}from"./QList.58a4b5dd.js";import{e as Me,f as De,h as Ke,u as Qe,a as ze,i as He,j as Ie,k as Ve,g as je,r as Le}from"./use-prevent-scroll.c821079a.js";import{u as J,a as Y,c as $e}from"./focus-manager.5de30bde.js";import{c as We,r as N,d as Ne,e as Ue}from"./QDialog.fd4f138b.js";var tt=U({name:"QMenu",inheritAttrs:!1,props:b(i(i(i(i({},_e),Me),J),De),{persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:L},self:{type:String,validator:L},offset:{type:Array,validator:Re},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}}),emits:[...Ke,"click","escapeKey"],setup(e,{slots:n,emit:a,attrs:c}){let r=null,m,v,q;const y=X(),{proxy:h}=y,{$q:s}=h,u=V(null),d=V(!1),C=l(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),x=Y(e,s),{registerTick:P,removeTick:o}=Qe(),{registerTimeout:g}=ze(),{transitionProps:Z,transitionStyle:p}=He(e),{localScrollTarget:w,changeScrollEvent:ee,unconfigureScrollTarget:te}=we(e,Q),{anchorEl:S,canShow:oe}=Ee({showing:d}),{hide:E}=Ie({showing:d,canShow:oe,handleShow:ue,handleHide:se,hideOnRouteChange:C,processOnMount:!0}),{showPortal:F,hidePortal:A,renderPortal:ae}=Ve(y,u,re,"menu"),B={anchorEl:S,innerRef:u,onClickOutside(t){if(e.persistent!==!0&&d.value===!0)return E(t),(t.type==="touchstart"||t.target.classList.contains("q-dialog__backdrop"))&&G(t),!0}},M=l(()=>W(e.anchor||(e.cover===!0?"center middle":"bottom start"),s.lang.rtl)),ne=l(()=>e.cover===!0?M.value:W(e.self||"top start",s.lang.rtl)),le=l(()=>(e.square===!0?" q-menu--square":"")+(x.value===!0?" q-menu--dark q-dark":"")),ie=l(()=>e.autoClose===!0?{onClick:ce}:{}),D=l(()=>d.value===!0&&e.persistent!==!0);j(D,t=>{t===!0?(We(O),Fe(B)):(N(O),$(B))});function T(){$e(()=>{let t=u.value;t&&t.contains(document.activeElement)!==!0&&(t=t.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||t.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||t.querySelector("[autofocus], [data-autofocus]")||t,t.focus({preventScroll:!0}))})}function ue(t){if(r=e.noRefocus===!1?document.activeElement:null,Ne(z),F(),Q(),m=void 0,t!==void 0&&(e.touchPosition||e.contextMenu)){const _=qe(t);if(_.left!==void 0){const{top:de,left:fe}=S.value.getBoundingClientRect();m={left:_.left-fe,top:_.top-de}}}v===void 0&&(v=j(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,k)),e.noFocus!==!0&&document.activeElement.blur(),P(()=>{k(),e.noFocus!==!0&&T()}),g(()=>{s.platform.is.ios===!0&&(q=e.autoClose,u.value.click()),k(),F(!0),a("show",t)},e.transitionDuration)}function se(t){o(),A(),K(!0),r!==null&&(t===void 0||t.qClickOutside!==!0)&&(((t&&t.type.indexOf("key")===0?r.closest('[tabindex]:not([tabindex^="-"])'):void 0)||r).focus(),r=null),g(()=>{A(!0),a("hide",t)},e.transitionDuration)}function K(t){m=void 0,v!==void 0&&(v(),v=void 0),(t===!0||d.value===!0)&&(Ue(z),te(),$(B),N(O)),t!==!0&&(r=null)}function Q(){(S.value!==null||e.scrollTarget!==void 0)&&(w.value=je(S.value,e.scrollTarget),ee(w.value,k))}function ce(t){q!==!0?(Le(h,t),a("click",t)):q=!1}function z(t){D.value===!0&&e.noFocus!==!0&&Ce(u.value,t.target)!==!0&&T()}function O(t){a("escapeKey"),E(t)}function k(){Ae({targetEl:u.value,offset:e.offset,anchorEl:S.value,anchorOrigin:M.value,selfOrigin:ne.value,absoluteOffset:m,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function re(){return f(Se,Z.value,()=>d.value===!0?f("div",i(b(i({role:"menu"},c),{ref:u,tabindex:-1,class:["q-menu q-position-engine scroll"+le.value,c.class],style:[c.style,p.value]}),ie.value),ye(n.default)):null)}return ke(K),Object.assign(h,{focus:T,updatePosition:k}),ae}});const Xe={xs:8,sm:10,md:14,lg:20,xl:24};var ot=U({name:"QChip",props:b(i(i({},J),xe),{dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}}),emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:n,emit:a}){const{proxy:{$q:c}}=X(),r=Y(e,c),m=Pe(e,Xe),v=l(()=>e.selected===!0||e.icon!==void 0),q=l(()=>e.selected===!0?e.iconSelected||c.iconSet.chip.selected:e.icon),y=l(()=>e.iconRemove||c.iconSet.chip.remove),h=l(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),s=l(()=>{const o=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(o?` text-${o} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(h.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(r.value===!0?" q-chip--dark q-dark":"")}),u=l(()=>{const o=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},g=b(i({},o),{role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||c.lang.label.remove});return{chip:o,remove:g}});function d(o){o.keyCode===13&&C(o)}function C(o){e.disable||(a("update:selected",!e.selected),a("click",o))}function x(o){(o.keyCode===void 0||o.keyCode===13)&&(G(o),e.disable===!1&&(a("update:modelValue",!1),a("remove")))}function P(){const o=[];h.value===!0&&o.push(f("div",{class:"q-focus-helper"})),v.value===!0&&o.push(f(R,{class:"q-chip__icon q-chip__icon--left",name:q.value}));const g=e.label!==void 0?[f("div",{class:"ellipsis"},[e.label])]:void 0;return o.push(f("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Oe(n.default,g))),e.iconRight&&o.push(f(R,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&o.push(f(R,b(i({class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:y.value},u.value.remove),{onClick:x,onKeyup:x}))),o}return()=>{if(e.modelValue===!1)return;const o={class:s.value,style:m.value};return h.value===!0&&Object.assign(o,u.value.chip,{onClick:C,onKeyup:d}),Be("div",o,P(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Te,e.ripple]])}}});export{tt as Q,ot as a};
