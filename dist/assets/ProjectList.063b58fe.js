import{q as P,c as I,s as W,r as x,y,z as V,K as p,L as O,t as Z,x as fe,A as t,B as e,C as B,R as $,D as T,o as U,Q as C,J as H,m as L,cy as ve,cz as ge,w as ee,X as Q,F as n,bI as G,W as D,Z as Y,I as K,S as E,d6 as ye,cO as A,d7 as ke,d8 as xe,E as S,cn as q,G as z,d9 as he,da as _e,bK as te,a1 as le,O as oe}from"./index.1dcbf74c.js";import{Q as ae}from"./QList.cc9f532e.js";import{Q as be}from"./QScrollArea.2ab160bb.js";import{_ as J}from"./Confirm.a2b95256.js";import{Q as Ve}from"./QForm.8b7788ad.js";import{C as F}from"./ClosePopup.21183726.js";import{b as M,c as R,a as N}from"./QChip.fc096b0b.js";import{Q as se,a as je}from"./QInfiniteScroll.5b8c5fde.js";import{Q as Ie}from"./QSkeleton.84c6b7e7.js";import{Q as ue}from"./QSelect.f3d00cfa.js";import{f as re}from"./datetime.561112b0.js";import{t as Ce,b as $e}from"./thumbStyle.856de4cb.js";import"./touch.82445793.js";import"./format.865294d5.js";import"./rtl.b51694b1.js";const ne=P({props:{projectId:{type:Number,required:!0},orgId:{type:String,required:!0},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(l,{emit:u}){const a=l,i=I({get:()=>a.modelValue,set:v=>u("update:modelValue",v)}),c=W(),w=I(()=>c.state.Project.projects.find(v=>v.id===a.projectId)),m=x(!1);async function h(v){m.value=!0;try{c.commit("cleanError"),await c.dispatch("deleteProject",{projectId:v,orgId:a.orgId}),c.state.Root.currentError===void 0&&(i.value=!1)}catch(b){console.error(b),c.commit("error",{error:b})}m.value=!1}return(v,b)=>{var g;return y(),V(J,{modelValue:p(i),"onUpdate:modelValue":b[0]||(b[0]=_=>O(i)?i.value=_:null),content:"\u662F\u5426\u8981\u5220\u9664\u9879\u76EE"+((g=p(w))==null?void 0:g.title)+"?",type:"warning",loading:m.value,onConfirm:b[1]||(b[1]=_=>p(w)&&h(p(w).id))},null,8,["modelValue","content","loading"])}}}),Ee={key:0,class:"text-h6"},Be={key:1,class:"text-h6"},ie=P({props:{projectId:{type:Number,default:0},modelValue:{type:Boolean,default:!1},orgId:{type:String,required:!0}},emits:["update:modelValue"],setup(l,{emit:u}){const a=l,i=I({get:()=>a.modelValue,set:r=>u("update:modelValue",r)}),c=W(),w=I(()=>c.state.Project.projects.find(r=>r.id===a.projectId)),m=I(()=>{const r=w.value;return{title:(r==null?void 0:r.title)||"",remark:(r==null?void 0:r.remark)||""}}),h=x(m.value),v=I(()=>{const r=h.value,k=m.value;return r.title.trim()===k.title.trim()&&r.remark.trim()===k.remark.trim()}),b=I(()=>h.value.title.trim()!==""&&!v.value);Z(()=>{fe(()=>{i.value||(h.value=Object.assign({},m.value))})});const g=x(!1);async function _(){g.value=!0;try{const r=h.value;c.commit("cleanError"),a.projectId>0?await c.dispatch("updateProject",{projectId:a.projectId,title:r.title.trim(),remark:r.remark.trim(),orgId:a.orgId}):await c.dispatch("createProject",{orgId:a.orgId,title:r.title.trim(),remark:r.remark.trim()}),c.state.Root.currentError===void 0&&(i.value=!1)}catch(r){console.error(r),c.commit("error",{error:r})}g.value=!1}return(r,k)=>(y(),V(L,{modelValue:p(i),"onUpdate:modelValue":k[2]||(k[2]=j=>O(i)?i.value=j:null),"no-backdrop-dismiss":!p(v)},{default:t(()=>[e(H,{class:"tw-w-96 q-pa-sm"},{default:t(()=>[e(Ve,{onSubmit:_},{default:t(()=>[e(B,null,{default:t(()=>[p(w)===void 0?(y(),$("div",Ee,"\u521B\u5EFA\u9879\u76EE")):(y(),$("div",Be,"\u7F16\u8F91\u9879\u76EE"))]),_:1}),e(B,null,{default:t(()=>[e(T,{modelValue:h.value.title,"onUpdate:modelValue":k[0]||(k[0]=j=>h.value.title=j),type:"text",label:"\u9879\u76EE\u540D",square:"",filled:"",class:"tw-mb-4"},null,8,["modelValue"]),e(T,{modelValue:h.value.remark,"onUpdate:modelValue":k[1]||(k[1]=j=>h.value.remark=j),type:"textarea",label:"\u5907\u6CE8",square:"",filled:""},null,8,["modelValue"])]),_:1}),e(B,{align:"right",class:"tw-flex tw-gap-4 tw-flex-col-reverse lg:tw-flex-row lg:tw-justify-end"},{default:t(()=>[U(e(C,{flat:"",label:"\u53D6\u6D88",class:"lg:tw-w-24 tw-w-full"},null,512),[[F,!0]]),e(C,{color:"primary","text-color":"black",type:"submit",label:p(w)===void 0?"\u521B\u5EFA":"\u4FDD\u5B58",disable:!p(b),loading:g.value,class:"lg:tw-w-24 tw-w-full"},null,8,["label","disable","loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","no-backdrop-dismiss"]))}});function Ue(l){const u=document.createElement("textarea");u.value=l,u.contentEditable="true",u.style.position="fixed";const a=()=>{};ve(a),document.body.appendChild(u),u.focus(),u.select();const i=document.execCommand("copy");return u.remove(),ge(a),i}function Fe(l){return navigator.clipboard!==void 0?navigator.clipboard.writeText(l):new Promise((u,a)=>{const i=Ue(l);i?u(!0):a(i)})}function De(l){return l?l.indexOf("manager")!==-1||l.indexOf("admin")!==-1:!1}function Se(l){return l.indexOf("admin")!==-1}const de=[{value:"admin",label:"\u7BA1\u7406\u5458"},{value:"manager",label:"\u53EF\u7F16\u8F91"},{value:"user",label:"\u4EC5\u67E5\u770B"}],ce=new Map;de.forEach((l,u,a)=>{ce.set(l.value,l.label)});function Pe(l){return ce.get(l)}const Qe=n("div",{class:"text-h6"},"\u9879\u76EE\u6210\u5458\u7BA1\u7406",-1),Ae=E(" \u6DFB\u52A0 "),Te={role:"list",class:"tw-divide-y tw-divide-white/5"},qe={class:"tw-min-w-0 tw-flex-auto"},Me={class:"tw-flex tw-items-center tw-gap-x-3"},Re=n("div",{class:"flex-none rounded-full p-1"},[n("div",{class:"tw-h-2 tw-w-2 tw-rounded-full tw-bg-current"})],-1),Ne={class:"tw-min-w-0 tw-text-sm tw-font-semibold tw-leading-6 tw-text-white"},We={class:"tw-flex tw-gap-x-2"},Oe={class:"tw-whitespace-nowrap"},He=n("span",{class:"tw-text-gray-400"}," - ",-1),Le={class:"tw-whitespace-nowrap tw-opacity-75"},Ye={class:"tw-mt-1 tw-flex tw-items-center tw-gap-x-2.5 tw-text-xs tw-leading-5 tw-text-gray-400"},ze={class:"tw-truncate tw-text-primary"},Ge=n("svg",{viewbox:"0 0 2 2",class:"tw-h-0.5 tw-w-0.5 tw-flex-none tw-fill-gray-300"},[n("circle",{cx:"1",cy:"1",r:"1"})],-1),Ke={class:"tw-whitespace-nowrap"},Je={class:"rounded-full flex-none py-1 px-2 text-xs font-medium ring-1 ring-inset"},Xe=E("\u79FB\u9664"),X=P({props:{projectId:{type:Number,default:0},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(l,{emit:u}){const a=l,i=x("user"),c=I({get:()=>a.modelValue,set:s=>u("update:modelValue",s)}),w=x([]);async function m(){w.value=await ye(A,a.projectId)}ee(()=>[a.projectId,c.value],async([,s])=>{s&&m(),h.value=""});const h=x(""),v=x(!1);async function b(){v.value=!0;try{await ke(A,a.projectId,h.value,i.value),h.value="",await m()}finally{v.value=!1}}const g=x(),_=x(!1);function r(s){g.value=s,_.value=!0}function k(){g.value=void 0,_.value=!1}async function j(s){v.value=!0;try{await xe(A,a.projectId,s.id),await m()}finally{v.value=!1}}return(s,f)=>(y(),V(L,{modelValue:p(c),"onUpdate:modelValue":f[4]||(f[4]=d=>O(c)?c.value=d:null)},{default:t(()=>{var d;return[e(J,{modelValue:_.value,"onUpdate:modelValue":f[0]||(f[0]=o=>_.value=o),type:"warning",content:`\u786E\u5B9A\u8981\u79FB\u9664\u7528\u6237 ${(d=g.value)==null?void 0:d.name} \u5417\uFF1F`,onConfirm:f[1]||(f[1]=o=>g.value&&j(g.value).then(k))},null,8,["modelValue","content"]),e(H,{class:"tw-w-full tw-mx-6 lg:tw-w-1/2"},{default:t(()=>[e(B,null,{default:t(()=>[Qe]),_:1}),e(Q),e(B,{class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-2"},{default:t(()=>[e(T,{modelValue:h.value,"onUpdate:modelValue":f[2]||(f[2]=o=>h.value=o),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u5E10\u53F7",dense:"",outlined:"",class:"tw-grow"},null,8,["modelValue"]),e(ue,{modelValue:i.value,"onUpdate:modelValue":f[3]||(f[3]=o=>i.value=o),outlined:"",dense:"",class:"tw-w-full md:tw-w-32","emit-value":"","map-options":"",placeholder:"\u8BF7\u9009\u62E9\u7528\u6237\u6743\u9650",options:p(de)},null,8,["modelValue","options"]),e(C,{loading:v.value,outline:"","text-color":"primary",onClick:b},{default:t(()=>[Ae]),_:1},8,["loading"])]),_:1}),e(Q),e(B,{style:{"max-height":"40vh",height:"40vh"},class:"scroll"},{default:t(()=>[e(se,{class:"tw-w-full tw-h-full",offset:100},{default:t(()=>[n("ul",Te,[(y(!0),$(Y,null,G(w.value,o=>(y(),$("li",{key:o.id,class:"tw-relative tw-flex tw-items-center tw-space-x-4 tw-py-2"},[n("div",qe,[n("div",Me,[Re,n("h2",Ne,[n("a",We,[n("span",Oe,D(o.name),1),He,n("span",Le,D(o.permissions&&p(Pe)(o.permissions[0])),1)])])]),n("div",Ye,[n("p",ze,D(o.account),1),Ge,n("p",Ke,D(p(re)(o.createTime*1e3,"YYYY-MM-DD HH:mm")),1)])]),n("div",Je,[e(C,{type:"primary",unelevated:"",class:"tw-text-red-500",onClick:we=>r(o)},{default:t(()=>[Xe]),_:2},1032,["onClick"])])]))),128))])]),_:1})]),_:1}),e(Q),e(K,{align:"right"},{default:t(()=>[U(e(C,{flat:"",label:"\u5173\u95ED",color:"primary"},null,512),[[F,!0]])]),_:1})]),_:1})]}),_:1},8,["modelValue"]))}});async function Ze(l){return(await A.post("/webhook/create",{project_id:l.projectId,call_back_url:l.callBackUrl,type:l.type})).data}async function et(l,u){return(await A.post("/webhook/delete",{project_id:l,type:u})).data}async function tt(l){const a=(await A.get("/webhook/list",{params:{project_id:l}})).data,i=a.response?a.response:[],c=[];return i.forEach((w,m)=>{c.push({projectId:w.project_id,type:w.type,callBackUrl:w.callback_url,createTime:w.create_time})}),c}const me=[{value:"task-result",label:"\u6267\u884C\u7ED3\u675F"},{value:"task-failure",label:"\u6267\u884C\u5931\u8D25"}],pe=new Map;me.forEach((l,u,a)=>{pe.set(l.value,l.label)});function lt(l){return pe.get(l)}const ot=n("div",{class:"text-h6"},"WebHook\u7BA1\u7406",-1),at=E(" \u6DFB\u52A0 "),st={role:"list",class:"tw-divide-y tw-divide-white/5"},ut={class:"tw-min-w-0 tw-flex-auto"},rt={class:"tw-flex tw-items-center tw-gap-x-3"},nt=n("div",{class:"flex-none rounded-full p-1"},[n("div",{class:"tw-h-2 tw-w-2 tw-rounded-full tw-bg-current"})],-1),it={class:"tw-min-w-0 tw-text-sm tw-font-semibold tw-leading-6 tw-text-white"},dt={class:"tw-flex tw-gap-x-2"},ct={class:"tw-whitespace-nowrap"},mt={class:"tw-mt-1 tw-flex tw-items-center tw-gap-x-2.5 tw-text-xs tw-leading-5 tw-text-gray-400"},pt={class:"tw-truncate tw-text-primary"},wt=n("svg",{viewbox:"0 0 2 2",class:"tw-h-0.5 tw-w-0.5 tw-flex-none tw-fill-gray-300"},[n("circle",{cx:"1",cy:"1",r:"1"})],-1),ft={key:0,class:"tw-whitespace-nowrap"},vt={class:"rounded-full flex-none py-1 px-2 text-xs font-medium ring-1 ring-inset"},gt=E("\u79FB\u9664"),yt=P({props:{projectId:{type:Number,default:0},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(l,{emit:u}){const a=l,i=I({get:()=>a.modelValue,set:s=>u("update:modelValue",s)}),c=x([]);async function w(){c.value=await tt(a.projectId)}ee(()=>[a.projectId,i.value],async([,s])=>{s&&w(),h()});const m=x({callBackUrl:"",type:"task-result",projectId:a.projectId});function h(){m.value={callBackUrl:"",type:"task-result",createTime:void 0,projectId:a.projectId}}const v=x(!1);async function b(){if(!!m.value){v.value=!0;try{await Ze({projectId:Number(m.value.projectId),callBackUrl:m.value.callBackUrl,type:m.value.type}),h(),await w()}finally{v.value=!1}}}const g=x(),_=x(!1);function r(s){g.value=s,_.value=!0}function k(){g.value=void 0,_.value=!1}async function j(s){v.value=!0;try{await et(s.projectId,s.type),await w()}finally{v.value=!1}}return(s,f)=>(y(),V(L,{modelValue:p(i),"onUpdate:modelValue":f[4]||(f[4]=d=>O(i)?i.value=d:null)},{default:t(()=>{var d;return[e(J,{modelValue:_.value,"onUpdate:modelValue":f[0]||(f[0]=o=>_.value=o),type:"warning",content:`\u786E\u5B9A\u8981\u79FB\u9664 ${(d=g.value)==null?void 0:d.callBackUrl} \u5417\uFF1F`,onConfirm:f[1]||(f[1]=o=>g.value&&j(g.value).then(k))},null,8,["modelValue","content"]),e(H,{class:"tw-w-full tw-mx-6 lg:tw-w-1/2"},{default:t(()=>[e(B,null,{default:t(()=>[ot]),_:1}),e(Q),e(B,{class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-2"},{default:t(()=>[e(T,{modelValue:m.value.callBackUrl,"onUpdate:modelValue":f[2]||(f[2]=o=>m.value.callBackUrl=o),placeholder:"\u8BF7\u8F93\u5165webhook\u5730\u5740",dense:"",outlined:"",class:"tw-grow"},null,8,["modelValue"]),e(ue,{modelValue:m.value.type,"onUpdate:modelValue":f[3]||(f[3]=o=>m.value.type=o),outlined:"",dense:"",class:"tw-w-full md:tw-w-32","emit-value":"","map-options":"",placeholder:"\u8BF7\u9009\u62E9hook\u7C7B\u578B",options:p(me)},null,8,["modelValue","options"]),e(C,{loading:v.value,outline:"","text-color":"primary",onClick:b},{default:t(()=>[at]),_:1},8,["loading"])]),_:1}),e(Q),e(B,{style:{"max-height":"40vh",height:"40vh"},class:"scroll"},{default:t(()=>[e(se,{class:"tw-w-full tw-h-full",offset:100},{default:t(()=>[n("ul",st,[(y(!0),$(Y,null,G(c.value,o=>(y(),$("li",{key:o.type,class:"tw-relative tw-flex tw-items-center tw-space-x-4 tw-py-2"},[n("div",ut,[n("div",rt,[nt,n("h2",it,[n("a",dt,[n("span",ct,D(o.callBackUrl),1)])])]),n("div",mt,[n("p",pt,D(p(lt)(o.type)),1),wt,o.createTime?(y(),$("p",ft,D(p(re)(o.createTime*1e3,"YYYY-MM-DD HH:mm")),1)):S("",!0)])]),n("div",vt,[e(C,{type:"primary",unelevated:"",class:"tw-text-red-500",onClick:we=>r(o)},{default:t(()=>[gt]),_:2},1032,["onClick"])])]))),128))])]),_:1})]),_:1}),e(Q),e(K,{align:"right"},{default:t(()=>[U(e(C,{flat:"",label:"\u5173\u95ED",color:"primary"},null,512),[[F,!0]])]),_:1})]),_:1})]}),_:1},8,["modelValue"]))}}),kt=E("\u7F16\u8F91"),xt=E("\u4EBA\u5458\u7BA1\u7406"),ht=E("Webhook"),_t=E("\u9879\u76EEtoken"),bt=E("\u5220\u9664"),Vt={class:"text-h6"},jt=E(" \u9879\u76EE Token "),It={class:"!tw-text-base"},Ct=P({props:{projectId:{type:Number,required:!0},role:{type:String,default:""},orgId:{type:String,required:!0}},setup(l){const u=l,a=x(!1),i=W(),c=x(!1),w=x(!1),m=x(!1),h=x(!1),v=x(!1),b=x(!1),g=x(""),_=x(!1);async function r(){_.value=!1,g.value="",v.value=!0,b.value=!0;try{const f=await he(u.projectId);g.value=f}catch(f){console.error(f),i.commit("error",{error:f})}b.value=!1}function k(){Fe(g.value).then(()=>{i.commit("success",{message:"token\u5DF2\u590D\u5236"})})}const j=x(!1);async function s(){j.value=!0;try{g.value=await _e(u.projectId)}catch(f){console.error(f),i.commit("error",{error:f})}j.value=!1,_.value=!1}return(f,d)=>(y(),$(Y,null,[e(ne,{modelValue:c.value,"onUpdate:modelValue":d[0]||(d[0]=o=>c.value=o),"project-id":u.projectId,"org-id":l.orgId},null,8,["modelValue","project-id","org-id"]),e(ie,{modelValue:w.value,"onUpdate:modelValue":d[1]||(d[1]=o=>w.value=o),"project-id":u.projectId,"org-id":l.orgId},null,8,["modelValue","project-id","org-id"]),e(X,{modelValue:m.value,"onUpdate:modelValue":d[2]||(d[2]=o=>m.value=o),"project-id":u.projectId},null,8,["modelValue","project-id"]),e(yt,{modelValue:h.value,"onUpdate:modelValue":d[3]||(d[3]=o=>h.value=o),"project-id":u.projectId},null,8,["modelValue","project-id"]),e(X),e(je,{modelValue:a.value,"onUpdate:modelValue":d[8]||(d[8]=o=>a.value=o),flat:"","dropdown-icon":"more_horiz","no-icon-animation":""},{default:t(()=>[e(ae,{dense:""},{default:t(()=>[U((y(),V(N,{clickable:"",class:"hover:tw-bg-primary hover:tw-text-black",onClick:d[4]||(d[4]=q(o=>w.value=!0,["stop"]))},{default:t(()=>[e(M,null,{default:t(()=>[e(R,null,{default:t(()=>[kt]),_:1})]),_:1})]),_:1})),[[F,!0]]),U((y(),V(N,{clickable:"",class:"hover:tw-bg-primary hover:tw-text-black",onClick:d[5]||(d[5]=q(o=>m.value=!0,["stop"]))},{default:t(()=>[e(M,null,{default:t(()=>[e(R,null,{default:t(()=>[xt]),_:1})]),_:1})]),_:1})),[[F,!0]]),U((y(),V(N,{clickable:"",class:"hover:tw-bg-primary hover:tw-text-black",onClick:d[6]||(d[6]=q(o=>h.value=!0,["stop"]))},{default:t(()=>[e(M,null,{default:t(()=>[e(R,null,{default:t(()=>[ht]),_:1})]),_:1})]),_:1})),[[F,!0]]),p(Se)(l.role)?U((y(),V(N,{key:0,clickable:"",class:"hover:tw-bg-primary hover:tw-text-black",onClick:q(r,["stop"])},{default:t(()=>[e(M,null,{default:t(()=>[e(R,null,{default:t(()=>[_t]),_:1})]),_:1})]),_:1},8,["onClick"])),[[F,!0]]):S("",!0),U((y(),V(N,{clickable:"",class:"hover:tw-bg-primary hover:tw-text-black",onClick:d[7]||(d[7]=q(o=>c.value=!0,["stop"]))},{default:t(()=>[e(M,null,{default:t(()=>[e(R,null,{default:t(()=>[bt]),_:1})]),_:1})]),_:1})),[[F,!0]])]),_:1})]),_:1},8,["modelValue"]),e(L,{modelValue:v.value,"onUpdate:modelValue":d[11]||(d[11]=o=>v.value=o)},{default:t(()=>[e(H,{class:"tw-w-[400px] tw-max-w-full"},{default:t(()=>[e(B,null,{default:t(()=>[n("div",Vt,[jt,n("span",It," (ID: "+D(l.projectId)+") ",1)])]),_:1}),e(B,{class:"q-pt-none"},{default:t(()=>[b.value?(y(),V(Ie,{key:0,type:"rect"})):(y(),V(T,{key:1,modelValue:g.value,"onUpdate:modelValue":d[9]||(d[9]=o=>g.value=o),dark:"",borderless:"",readonly:!0},{append:t(()=>[e(z,{name:"file_copy",class:"tw-cursor-pointer",onClick:k})]),_:1},8,["modelValue"]))]),_:1}),e(K,{align:"right"},{default:t(()=>[_.value?S("",!0):U((y(),V(C,{key:0,flat:"",label:"\u91CD\u7F6E",color:"warning",onClick:d[10]||(d[10]=o=>_.value=!0)},null,512)),[[F,!0]]),_.value?(y(),V(C,{key:1,flat:"",label:"\u6211\u786E\u5B9A\u91CD\u7F6E",color:"red",loading:j.value,onClick:s},null,8,["loading"])):S("",!0),U(e(C,{flat:"",label:"\u5173\u95ED",color:"primary"},null,512),[[F,!0]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),$t={class:"tw-h-full tw-w-full tw-flex tw-flex-col"},Et={class:"q-pa-md tw-flex tw-justify-around"},Bt={key:0,class:"tw-w-full tw-text-center tw-m-auto tw-text-gray-500"},Ut=E(" \u6682\u65E0\u6570\u636E "),Ft=P({props:{orgId:{type:String,required:!0}},setup(l){const u=l,a=W(),i=I(()=>a.state.Project.loadingProjects);async function c(){await a.dispatch("Project/fetchProjects",{orgId:u.orgId})}Z(c);const w=x(""),m=I(()=>a.state.Project.projects.filter(r=>r.title.indexOf(w.value)>=0||r.id.toString().indexOf(w.value)>=0));function h(r){return oe().params.projectId===r.id.toString()}const v=x(!1),b=x(!1),g=I(()=>m.value.filter(h).pop()),_=I(()=>a.getters.isAdmin);return(r,k)=>{const j=te("router-link");return y(),$("div",$t,[p(g)?(y(),V(ne,{key:0,modelValue:b.value,"onUpdate:modelValue":k[0]||(k[0]=s=>b.value=s),"project-id":p(g).id,"org-id":l.orgId},null,8,["modelValue","project-id","org-id"])):S("",!0),e(ie,{modelValue:v.value,"onUpdate:modelValue":k[1]||(k[1]=s=>v.value=s),"org-id":l.orgId},null,8,["modelValue","org-id"]),n("div",Et,[e(T,{modelValue:w.value,"onUpdate:modelValue":k[2]||(k[2]=s=>w.value=s),borderless:"",dense:"",debounce:"300",placeholder:"Search"},{append:t(()=>[e(z,{name:"search"})]),_:1},8,["modelValue"]),e(C,{flat:"",dense:"",loading:p(i),icon:"refresh",onClick:c},null,8,["loading"]),e(C,{flat:"",dense:"",icon:"add",onClick:k[3]||(k[3]=s=>v.value=!0)}),e(C,{flat:"",dense:"",class:"tw-text-red-300 lg:tw-flex tw-hidden",icon:"delete",disable:!p(g),onClick:k[4]||(k[4]=s=>b.value=!0)},null,8,["disable"])]),e(be,{class:"tw-grow tw-px-[15px]",visible:"","thumb-style":p(Ce),"bar-style":p($e)},{default:t(()=>[e(ae,{class:"tw-flex tw-flex-col tw-gap-2 tw-pb-4"},{default:t(()=>[(y(!0),$(Y,null,G(p(m),s=>(y(),$("div",{key:s.id,class:le((h(s)?"tw-bg-primary tw-text-black ":"tw-bg-[#27272a] ")+"tw-w-full tw-flex tw-flex-row tw-rounded-md")},[e(j,{class:"tw-grow tw-p-4",to:{name:"project",params:{projectId:s.id}}},{default:t(()=>[E(D(s.title),1)]),_:2},1032,["to"]),p(_)||p(De)(s.role)?(y(),V(Ct,{key:0,"project-id":s.id,"org-id":l.orgId,role:s.role},null,8,["project-id","org-id","role"])):S("",!0)],2))),128))]),_:1}),!p(i)&&(!p(m)||p(m).length===0)?(y(),$("div",Bt,[e(z,{name:"outlet",style:{"font-size":"3rem"}}),Ut])):S("",!0)]),_:1},8,["thumb-style","bar-style"])])}}}),Dt={class:"lg:tw-flex lg:tw-flex-row tw-w-full tw-h-full"},Gt=P({props:{orgId:{type:String,required:!0}},setup(l){const u=oe(),a=I(()=>u.name&&u.name.toString()!=="projects"?"tw-hidden lg:tw-block":"");return(i,c)=>{const w=te("router-view");return y(),$("div",Dt,[n("div",{class:le("xl:tw-basis-1/5 tw-basis-1/4 tw-h-full tw-w-full tw-min-w-[280px] "+p(a))},[l.orgId?(y(),V(Ft,{key:0,"org-id":l.orgId},null,8,["org-id"])):S("",!0)],2),e(w)])}}});export{Gt as default};
