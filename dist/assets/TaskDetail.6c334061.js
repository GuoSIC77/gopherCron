var Oe=Object.defineProperty;var Ie=Object.getOwnPropertySymbols;var Me=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable;var Ce=(b,t,m)=>t in b?Oe(b,t,{enumerable:!0,configurable:!0,writable:!0,value:m}):b[t]=m,xe=(b,t)=>{for(var m in t||(t={}))Me.call(t,m)&&Ce(b,m,t[m]);if(Ie)for(var m of Ie(t))Le.call(t,m)&&Ce(b,m,t[m]);return b};import{_ as X,u as Z,r as y,o as k,c as $,w as a,a as e,b as V,t as Q,d as j,Q as M,e as we,f as x,g as Ye,h,i as ae,j as We,k as ue,l as C,m as G,n as de,p as A,q as ce,s as he,v as He,x as J,C as oe,y as Ke,z as Ae,A as u,B as me,D as ke,E as Je,F as ge,G as Ge,H as ye,I as pe,J as be,K as P,L as _e,M as Fe,N as Be,O as $e,P as qe,R as Xe,S as Ue,T as le,U as O,V as Ze,W as Se,X as L,Y as te,Z as et,$ as tt,a0 as lt,a1 as at,a2 as Ve,a3 as ut,a4 as ie,a5 as ot,a6 as De,a7 as Te}from"./index.d28badb7.js";import{u as st}from"./index.136924b6.js";import{C as se}from"./Confirm.fd95f704.js";import{a as rt,f as re}from"./datetime.561112b0.js";import{T as Pe}from"./task.f3ffd066.js";import{J as Qe}from"./JSONViewer.92640b18.js";import{G as nt}from"./log.9bb866e5.js";import{t as it,b as dt}from"./thumbStyle.856de4cb.js";const ct=V("br",null,null,-1),mt=V("br",null,null,-1),pt=j(" \u63D0\u4EA4 "),ft={props:{projectId:{type:Number,required:!0},clientIp:{type:String,required:!0},version:{type:String,required:!0},weight:{type:Number,required:!0},region:{type:String,required:!0}},setup(b){const t=b,m=Z(),w=y(t.weight),E=y(!1);async function d(){E.value=!0;const i=t.clientIp.split(":")[0];try{await We(t.projectId,i,Number(w.value)),await m.dispatch("Project/fetchProjectClients",{projectId:t.projectId}),m.commit("success",{message:"\u4FEE\u6539\u6210\u529F"})}catch(l){console.error(l)}E.value=!1}return(i,l)=>(k(),$(ae,{flat:"",bordered:""},{default:a(()=>[e(M,{class:"text-center"},{default:a(()=>[V("strong",null,Q(b.clientIp),1),ct,j(" "+Q(b.region)+" ",1),mt,j(" "+Q(b.version),1)]),_:1}),e(we),e(M,{class:"flex flex-center"},{default:a(()=>[e(x,{modelValue:w.value,"onUpdate:modelValue":l[0]||(l[0]=B=>w.value=B),outlined:"",dense:"",type:"number",prefix:"\u6743\u91CD\uFF1A",onKeyup:Ye(d,["enter"])},{append:a(()=>[e(h,{dense:"",unelevated:"",loading:E.value,onClick:d},{default:a(()=>[pt]),_:1},8,["loading"])]),_:1},8,["modelValue","onKeyup"])]),_:1})]),_:1}))}};var vt=X(ft,[["__file","/Users/boyan/development/opensource/gopherCronFE/src/components/ClientNode.vue"]]);const wt=V("div",{class:"text-h6"},"\u521B\u5EFA\u4EFB\u52A1",-1),kt=V("div",{class:"text-base"}," \u4E34\u65F6\u4EFB\u52A1\u540C\u6837\u4F1A\u4E0E\u6B63\u5F0F\u7684\u5B9A\u65F6\u4EFB\u52A1\u7ADE\u4E89\u76F8\u540C\u7684\u9501\uFF0C\u8BF7\u907F\u514D\u8C03\u5EA6\u51B2\u7A81(\u6307\u8FD0\u884C\u65F6\u95F4\u6709\u4EA4\u96C6) ",-1),gt={class:"tw-flex tw-gap-2 tw-justify-end tw-mb-2"},yt={class:"row items-center justify-end"},bt={class:"row items-center justify-end"},Ft=ue({props:{modelValue:{type:Boolean,default:!1},task:{type:Object,default:()=>({})}},emits:["update:modelValue","created"],setup(b,{emit:t}){const m=b,w=C({get:()=>m.modelValue,set:o=>{t("update:modelValue",o),l.value=""}}),E=C(()=>{const o=[{value:"",label:"\u968F\u673A"}],n=d.state.Project.projectClients.get(m.task.projectId);return n&&n.forEach((p,N,T)=>{const D=p.clientIP;o.push({value:D,label:D})}),o}),d=Z(),i=y({taskId:m.task.id,projectId:m.task.projectId,command:m.task.command,remark:m.task.remark,noseize:m.task.noseize,scheduleTime:0,timeout:m.task.timeout,host:""}),l=y("");function B(o){l.value=rt(o*60,"YYYY-MM-DD HH:mm")}G(()=>{de(()=>{w.value&&(i.value=Object.assign({},{taskId:m.task.id,projectId:m.task.projectId,command:m.task.command,remark:m.task.remark,noseize:m.task.noseize,scheduleTime:0,timeout:m.task.timeout,host:""}))})});const U=y(!1);async function _(){const o=i.value;if(!o.remark){d.commit("error",{error:{message:"\u4EFB\u52A1\u8BF4\u660E\u5FC5\u586B"}});return}if(!o.command){d.commit("error",{error:{message:"\u6267\u884C\u547D\u4EE4\u5FC5\u586B"}});return}U.value=!0;try{const n=await Ge({projectId:o.projectId,taskId:o.taskId,command:o.command,noseize:o.noseize,scheduleTime:Date.parse(l.value)/1e3,remark:o.remark,timeout:o.timeout,host:o.host});n.code!==0?d.commit("error",{error:{message:n.message}}):(d.commit("success",{message:"\u521B\u5EFA\u6210\u529F"}),w.value=!1,t("created"))}catch{}U.value=!1}return(o,n)=>(k(),$(ge,{modelValue:u(w),"onUpdate:modelValue":n[11]||(n[11]=p=>Je(w)?w.value=p:null),persistent:""},{default:a(()=>[e(ae,{class:"tw-w-96 q-pa-sm"},{default:a(()=>[e(M,null,{default:a(()=>[wt,kt]),_:1}),e(M,{style:{"max-height":"50vh"},class:"scroll"},{default:a(()=>[b.task?(k(),$(x,{key:"id","model-value":b.task.id,disable:"",label:"\u5173\u8054\u4EFB\u52A1 ID",square:"",filled:"",class:"tw-mb-4"},null,8,["model-value"])):A("v-if",!0),e(x,{key:"remark",modelValue:i.value.remark,"onUpdate:modelValue":n[0]||(n[0]=p=>i.value.remark=p),type:"textarea",label:"\u4EFB\u52A1\u8BF4\u660E *",autogrow:"",square:"",filled:"",class:"tw-mb-4"},null,8,["modelValue"]),V("div",gt,[e(h,{dense:"",unelevated:"",class:"tw-text-xs tw-h-6 tw-px-3",color:"warning","text-color":"black",label:"\u4E00\u5206\u949F\u540E",onClick:n[1]||(n[1]=p=>B(1))}),e(h,{dense:"",unelevated:"",class:"tw-text-xs tw-h-6 tw-px-3",color:"warning","text-color":"black",label:"\u4E94\u5206\u949F\u540E",onClick:n[2]||(n[2]=p=>B(5))}),e(h,{dense:"",unelevated:"",class:"tw-text-xs tw-h-6 tw-px-3",color:"warning","text-color":"black",label:"\u4E00\u5C0F\u65F6\u540E",onClick:n[3]||(n[3]=p=>B(60))})]),e(x,{modelValue:l.value,"onUpdate:modelValue":n[6]||(n[6]=p=>l.value=p),filled:"",square:"",label:"\u8C03\u5EA6\u65F6\u95F4 *",class:"tw-mb-4"},{prepend:a(()=>[e(ce,{name:"event",class:"cursor-pointer"},{default:a(()=>[e(he,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(He,{modelValue:l.value,"onUpdate:modelValue":n[4]||(n[4]=p=>l.value=p),"text-color":"black",mask:"YYYY-MM-DD HH:mm"},{default:a(()=>[V("div",yt,[J(e(h,{label:"\u5173\u95ED",color:"primary",flat:""},null,512),[[oe,!0]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),append:a(()=>[e(ce,{name:"access_time",class:"cursor-pointer"},{default:a(()=>[e(he,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Ke,{modelValue:l.value,"onUpdate:modelValue":n[5]||(n[5]=p=>l.value=p),mask:"YYYY-MM-DD HH:mm","text-color":"black",format24h:""},{default:a(()=>[V("div",bt,[J(e(h,{label:"\u5173\u95ED",color:"primary",flat:""},null,512),[[oe,!0]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(x,{key:"timeout",modelValue:i.value.timeout,"onUpdate:modelValue":n[7]||(n[7]=p=>i.value.timeout=p),modelModifiers:{number:!0},type:"number",label:"\u8D85\u65F6\u65F6\u95F4 * (\u5355\u4F4D:\u79D2 s)",square:"",filled:"",class:"tw-mb-4"},null,8,["modelValue"]),e(x,{key:"command",modelValue:i.value.command,"onUpdate:modelValue":n[8]||(n[8]=p=>i.value.command=p),placeholder:'echo "hello word"',type:"textarea",label:"\u6267\u884C\u6307\u4EE4 *",autogrow:"",square:"",filled:"",class:"tw-mb-4"},null,8,["modelValue"]),e(Ae,{modelValue:i.value.host,"onUpdate:modelValue":n[9]||(n[9]=p=>i.value.host=p),"emit-value":"","map-options":"",autogrow:"",square:"",filled:"",label:"\u6267\u884C\u8282\u70B9",options:u(E),class:"tw-mb-4"},null,8,["modelValue","options"]),e(me,{key:"noseize",modelValue:i.value.noseize,"onUpdate:modelValue":n[10]||(n[10]=p=>i.value.noseize=p),"false-value":0,"true-value":1,label:"\u5E76\u884C\u8C03\u5EA6",class:"tw-mb-4"},null,8,["modelValue"])]),_:1}),e(ke,{align:"right",class:"tw-flex tw-gap-2 tw-flex-col-reverse lg:tw-flex-row tw-justify-center lg:tw-justify-end"},{default:a(()=>[J(e(h,{flat:"",label:"\u53D6\u6D88",class:"lg:tw-w-24 tw-w-full"},null,512),[[oe,!0]]),e(h,{color:"primary","text-color":"black",label:"\u521B\u5EFA",class:"lg:tw-w-24 tw-w-full !tw-ml-0",loading:U.value,onClick:_},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});var Re=X(Ft,[["__file","/Users/boyan/development/opensource/gopherCronFE/src/components/DialogTemporaryTaskForm.vue"]]);const Et={class:"tw-h-full tw-w-full tw-flex tw-flex-col"},jt={key:0,class:"tw-flex tw-flex-row-reverse tw-pb-3 tw-flex-wrap tw-gap-2"},It=j("\u7ED3\u675F\u8FDB\u7A0B"),Ct=j("\u7ACB\u5373\u6267\u884C"),xt=j("\u4E34\u65F6\u8C03\u5EA6 "),ht=j(" \u6307\u5B9A\u65F6\u95F4\u8C03\u5EA6\u4E00\u6B21\u7684\u4EFB\u52A1 "),_t=j("\u590D\u5236\u4EFB\u52A1 "),Vt=j(" \u4EE5\u5F53\u524D\u4EFB\u52A1\u5185\u5BB9\u4E3A\u57FA\u7840\u8FDB\u884C\u65B0\u4EFB\u52A1\u7684\u521B\u5EFA "),Dt={key:1,class:"tw-flex tw-pb-3 tw-flex-wrap tw-gap-2 text-h6"},Tt={class:"q-pa-sm"},At=ue({props:{id:{type:String,default:""},projectId:{type:Number,required:!0}},setup(b){const t=b;function m(){R.push({name:"temporary_tasks",params:{projectId:t.projectId}})}const w=C(()=>({id:"",name:"",projectId:t.projectId,command:"",cronExpr:"0 0 0 * * * *",remark:"",timeout:300,createTime:0,status:0,isRunning:-1,noseize:0,exclusion:0,clientIp:"",tmpId:""}));function E(c,s){return!c||!s?!1:c.projectId===s.projectId&&c.name===s.name&&c.cronExpr===s.cronExpr&&c.remark===s.remark&&c.timeout===s.timeout&&c.status===s.status&&c.noseize===s.noseize&&c.command===s.command}const d=Z(),i=ye(),l=C(()=>{var c;return(c=d.state.Task.tasks.get(t.projectId))==null?void 0:c.find(s=>s.id===t.id||s.id===i.query.copyid)}),B=C(()=>d.state.Project.projects.find(c=>c.id===t.projectId)),U=y([]);function _(c){const s=[];c==null||c.forEach((S,K,ve)=>{s.push({value:S.id,label:S.title})}),U.value=s}d.state.Project.projects&&d.state.Project.projects.length>0&&_(d.state.Project.projects),pe(()=>d.state.Project.projects,(c,s)=>{_(s)});const o=y(Object.assign({},l.value||w.value)),n=C(()=>i.name&&i.name.toString()==="create_crontab_task"),p=C(()=>i.query.copyid&&i.query.copyid!=="");n.value&&(o.value.id="",o.value.isRunning=-1),pe(()=>t.id,(c,s)=>{var S;(t.id!==((S=l.value)==null?void 0:S.id)||!n.value&&o.value.id===""||o.value.id!==l.value.id)&&(o.value=Object.assign({},l.value||w.value)),o.value.isRunning=-1});const N=C(()=>{var c;return((c=l.value)==null?void 0:c.isRunning)===1?!1:!E(l.value,o.value)}),T=C(()=>{const{name:c,command:s,timeout:S,cronExpr:K}=o.value;return c!==""&&s!==""&&S>0&&K!==""}),D=C(()=>{const{name:c,command:s,timeout:S,cronExpr:K}=o.value;return c===""?"\u4EFB\u52A1\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A":s===""?"\u6267\u884C\u6307\u4EE4\u4E0D\u80FD\u4E3A\u7A7A":S<=0?"\u8D85\u65F6\u65F6\u95F4\u672A\u6307\u5B9A":K===""?"\u8C03\u5EA6\u8BA1\u5212\u672A\u6307\u5B9A":""});async function z(){await d.dispatch("Task/fetchTasks",{projectId:t.projectId})}const R=be(),I=y(!1);async function g(){if(d.commit("cleanError"),!T.value){d.commit("error",{error:{message:D.value}});return}I.value=!0,(n.value||p.value)&&(o.value.id="");try{const c=await d.dispatch("saveTask",{task:JSON.parse(JSON.stringify(o.value))});n.value&&(await z(),R.push({name:"crontab_task",params:{projectId:o.value.projectId,taskId:c.id}}))}catch{}I.value=!1}function f(){o.value=Object.assign({},l.value||w.value)}const r=y(!1),v=y(!1);async function W(c,s){d.commit("cleanError"),v.value=!0,console.log("delete loading",v.value);try{await d.dispatch("deleteTask",{projectId:c,taskId:s}),d.state.Root.currentError===void 0&&(await z(),R.push({name:"crontab_tasks",params:{projectId:i.params.projectId}}),r.value=!1)}catch(S){console.error(S),d.commit("error",{error:S})}v.value=!1}const Y=y(!1),H=y(!1);async function ne(c,s){H.value=!1,Y.value=!0;try{await Be(d.getters.apiv1,c,s)}catch{Y.value=!1}}G(()=>{d.watch(c=>[c.Root.eventTask],([c])=>{!c||c.projectId!==t.projectId||c.taskId!==t.id||Pe.isFinished(c.status)&&(Y.value=!1)})});const ee=y(!1),q=y(!1),Ne=async()=>{q.value=!1,ee.value=!0;try{await $e({projectId:t.projectId,taskId:t.id}),await z(),o.value.status=0}catch(c){console.error(c),d.commit("error",{error:c})}ee.value=!1},fe=y(!1);function ze(){var c;R.push({name:"create_crontab_task",query:{copyid:(c=l.value)==null?void 0:c.id}})}return(c,s)=>{var S,K,ve,Ee,je;return k(),P("div",Et,[e(Re,{modelValue:fe.value,"onUpdate:modelValue":s[0]||(s[0]=F=>fe.value=F),task:u(l),onCreated:m},null,8,["modelValue","task"]),e(se,{modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=F=>r.value=F),content:"\u662F\u5426\u8981\u5220\u9664\u4EFB\u52A1"+((S=u(l))==null?void 0:S.name)+"?",type:"warning",loading:v.value,onConfirm:s[2]||(s[2]=F=>u(B)&&u(l)&&W(u(B).id,u(l).id))},null,8,["modelValue","content","loading"]),e(se,{modelValue:q.value,"onUpdate:modelValue":s[3]||(s[3]=F=>q.value=F),content:"\u786E\u5B9A\u8981\u7ED3\u675F\u8FDB\u7A0B\u5417\uFF1F\u5F3A\u5236\u7ED3\u675F\u540E\u4EFB\u52A1\u7684\u542F\u7528\u72B6\u6001\u4F1A\u81EA\u52A8\u53D8\u66F4\u4E3A\u505C\u7528\u72B6\u6001\u3002",type:"warning",onConfirm:Ne},null,8,["modelValue"]),e(se,{modelValue:H.value,"onUpdate:modelValue":s[4]||(s[4]=F=>H.value=F),content:"\u786E\u5B9A\u8981\u7ACB\u5373\u6267\u884C\u5417\uFF1F",onConfirm:s[5]||(s[5]=F=>u(l)&&ne(b.projectId,u(l).id))},null,8,["modelValue"]),u(n)?A("v-if",!0):(k(),P("div",jt,[e(h,{flat:"",dense:"",class:"tw-w-24 tw-text-red-300 lg:tw-hidden",icon:"delete",onClick:s[6]||(s[6]=F=>r.value=!0)}),((K=u(l))==null?void 0:K.isRunning)===1?(k(),$(h,{key:0,flat:"","text-color":"red",disable:((ve=u(l))==null?void 0:ve.isRunning)!==1,class:"tw-w-24 tw-ml-1",loading:ee.value,onClick:s[7]||(s[7]=F=>q.value=!0)},{default:a(()=>[It]),_:1},8,["disable","loading"])):A("v-if",!0),e(h,{color:"primary","text-color":"black",disable:u(N)||((Ee=u(l))==null?void 0:Ee.isRunning)===1,class:"tw-w-24",loading:Y.value||((je=u(l))==null?void 0:je.isRunning)===1,onClick:s[8]||(s[8]=F=>H.value=!0)},{default:a(()=>[Ct]),_:1},8,["disable","loading"]),e(h,{color:"warning","text-color":"black",class:"tw-w-24 tw-opacity-90",onClick:s[9]||(s[9]=F=>fe.value=!0)},{default:a(()=>[xt,e(_e,{class:"bg-warning tw-text-black",offset:[10,10]},{default:a(()=>[ht]),_:1})]),_:1}),e(h,{outline:"",class:"tw-w-24 tw-opacity-90",onClick:ze},{default:a(()=>[_t,e(_e,{class:"bg-warning tw-text-black",offset:[10,10]},{default:a(()=>[Vt]),_:1})]),_:1})])),u(p)?(k(),P("div",Dt," \u590D\u5236\u4EFB\u52A1 ")):A("v-if",!0),e(Fe,{class:"tw-w-full",onSubmit:g,onReset:f},{default:a(()=>[u(l)&&!u(n)?(k(),$(x,{key:"id","model-value":u(l).id,disable:"",label:"\u4EFB\u52A1 ID",square:"",filled:"",class:"tw-mb-4"},null,8,["model-value"])):A("v-if",!0),u(n)?(k(),$(Ae,{key:1,modelValue:o.value.projectId,"onUpdate:modelValue":s[10]||(s[10]=F=>o.value.projectId=F),square:"",filled:"",class:"tw-w-full tw-mb-4","emit-value":"","map-options":"",label:"\u6240\u5C5E\u9879\u76EE",placeholder:"\u8BF7\u9009\u62E9\u9879\u76EE",options:U.value},null,8,["modelValue","options"])):(k(),$(x,{key:"project","model-value":u(B)?u(B).title:"",disable:"",label:"\u6240\u5C5E\u9879\u76EE",square:"",filled:"",class:"tw-mb-4"},null,8,["model-value"])),e(x,{key:"name",modelValue:o.value.name,"onUpdate:modelValue":s[11]||(s[11]=F=>o.value.name=F),label:"\u4EFB\u52A1\u540D\u79F0",square:"",filled:"",class:"tw-mb-4"},null,8,["modelValue"]),e(x,{key:"cron",modelValue:o.value.cronExpr,"onUpdate:modelValue":s[12]||(s[12]=F=>o.value.cronExpr=F),label:"\u8C03\u5EA6\u8BA1\u5212 (*\u79D2 *\u5206 *\u65F6 *\u65E5 *\u6708 *\u5468 *\u5E74)",square:"",filled:"",class:"tw-mb-4"},null,8,["modelValue"]),e(x,{key:"timeout",modelValue:o.value.timeout,"onUpdate:modelValue":s[13]||(s[13]=F=>o.value.timeout=F),modelModifiers:{number:!0},type:"number",label:"\u8D85\u65F6\u65F6\u95F4 (\u5355\u4F4D:\u79D2 s)",square:"",filled:"",class:"tw-mb-4"},null,8,["modelValue"]),e(x,{key:"command",modelValue:o.value.command,"onUpdate:modelValue":s[14]||(s[14]=F=>o.value.command=F),placeholder:'echo "hello word"',type:"textarea",label:"\u6267\u884C\u6307\u4EE4",autogrow:"",square:"",filled:"",class:"tw-mb-4"},null,8,["modelValue"]),e(x,{key:"remark",modelValue:o.value.remark,"onUpdate:modelValue":s[15]||(s[15]=F=>o.value.remark=F),type:"textarea",label:"\u4EFB\u52A1\u5907\u6CE8",autogrow:"",square:"",filled:"",class:"tw-mb-4"},null,8,["modelValue"]),e(me,{key:"noseize",modelValue:o.value.noseize,"onUpdate:modelValue":s[16]||(s[16]=F=>o.value.noseize=F),"false-value":0,"true-value":1,label:"\u5E76\u884C\u8C03\u5EA6",class:"tw-mb-4"},null,8,["modelValue"]),e(me,{key:"status",modelValue:o.value.status,"onUpdate:modelValue":s[17]||(s[17]=F=>o.value.status=F),"false-value":0,"true-value":1,label:"\u662F\u5426\u542F\u7528",class:"tw-mb-4"},null,8,["modelValue"]),V("div",Tt,[e(h,{color:"primary","text-color":"black",type:"submit",label:u(p)?"\u786E\u8BA4\u590D\u5236":"\u4FDD\u5B58",disable:!u(N),loading:I.value,class:"lg:tw-w-24 tw-w-full lg:tw-mr-4 lg:tw-mb-0 tw-mb-4"},null,8,["label","disable","loading"]),e(h,{color:"primary",type:"reset",label:"\u91CD\u7F6E",flat:"",disable:!u(N),class:"lg:tw-w-24 tw-w-full"},null,8,["disable"])])]),_:1})])}}});var Bt=X(At,[["__file","/Users/boyan/development/opensource/gopherCronFE/src/components/TaskDetail.vue"]]);const $t=j("\u8282\u70B9 IP"),qt=j("\u5F00\u59CB\u65F6\u95F4"),Ut=j("\u7ED3\u675F\u65F6\u95F4"),St=ue({props:{id:{type:String,required:!0},projectId:{type:Number,required:!0}},emits:["onpage"],setup(b,{emit:t}){const m=b,w=Z(),E=C(()=>w.state.Root.taskLogs),d=C(()=>w.state.Root.taskLogsTotal),i=C(()=>w.state.Root.loadingTaskLogs),l=y({sortBy:"",descending:!1,page:1,rowsPerPage:5,rowsNumber:0}),B=y();G(()=>{qe(()=>{var _;(_=B.value)==null||_.$el.querySelector("table.q-table").classList.add("tw-table-fixed")})});function U({pagination:{page:_,rowsPerPage:o}}){const n=l.value;n.page=_,n.rowsPerPage=o,t("onpage")}return de(()=>{const _=l.value;_.rowsNumber=d.value}),G(async()=>{de(async()=>{const _=l.value;await w.dispatch("fetchTaskLogs",{projectId:m.projectId,taskId:m.id,page:_.page,pageSize:_.rowsPerPage})})}),(_,o)=>(k(),$(u(Ze),{ref_key:"logTable",ref:B,pagination:l.value,"onUpdate:pagination":o[0]||(o[0]=n=>l.value=n),class:"tw-w-full tw-h-full tw-bg-[#121212]","rows-per-page-options":[5,10,15],rows:u(E),loading:u(i),"row-key":"id",color:"primary",flat:"","hide-header":"",onRequest:U},{loading:a(()=>[e(Xe,{showing:"",color:"primary"})]),body:a(n=>[e(ae,{class:"tw-my-4 tw-x-full",flat:"",bordered:""},{default:a(()=>[e(Ue,null,{default:a(()=>[e(le,null,{default:a(()=>[e(O,{overline:""},{default:a(()=>[$t]),_:1}),e(O,null,{default:a(()=>[j(Q(n.row.clientIp),1)]),_:2},1024)]),_:2},1024),e(le,null,{default:a(()=>[e(O,{overline:""},{default:a(()=>[qt]),_:1}),e(O,null,{default:a(()=>[j(Q(u(re)(n.row.startTime*1e3)),1)]),_:2},1024)]),_:2},1024),e(le,null,{default:a(()=>[e(O,{overline:""},{default:a(()=>[Ut]),_:1}),e(O,null,{default:a(()=>[j(Q(u(re)(n.row.endTime*1e3)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(we),e(M,{class:"tw-w-full tw-overflow-x-auto"},{default:a(()=>[e(Qe,{json:n.row.result},null,8,["json"])]),_:2},1024)]),_:2},1024)]),_:1},8,["pagination","rows","loading"]))}});var Pt=X(St,[["__file","/Users/boyan/development/opensource/gopherCronFE/src/components/TaskLogs.vue"]]);const Qt=j("\u8282\u70B9 IP"),Rt=j("\u5F00\u59CB\u65F6\u95F4"),Nt=j("\u7ED3\u675F\u65F6\u95F4"),zt={key:1,class:"tw-flex tw-flex-row-reverse tw-pb-3 tw-flex-wrap tw-gap-2"},Ot={key:2,class:"tw-flex tw-flex-row-reverse tw-pb-3 tw-flex-wrap tw-gap-2"},Mt=j("\u5220\u9664\u4EFB\u52A1"),Lt=j("\u7ED3\u675F\u8FDB\u7A0B"),Yt=j("\u590D\u5236\u4EFB\u52A1"),Wt={key:3},Ht=ue({props:{id:{type:Number,default:0,required:!0},projectId:{type:Number,required:!0}},setup(b){const t=b,m=y(!1),w=y();function E(r){w.value={id:r.taskId,projectId:r.projectId,remark:r.remark,command:r.command,timeout:r.timeout,cronExpr:"",createTime:0,name:"",status:0,isRunning:0,noseize:0,exclusion:0,clientIp:"",tmpId:""}}const d=y(),i=Z(),l=y();function B(){var r;l.value=(r=i.state.Task.temporaryTasks.get(t.projectId))==null?void 0:r.find(v=>v.id===Number(t.id))}pe(()=>t.id,(r,v)=>{console.log("watched",r,v),B()}),pe(l,(r,v)=>{console.log("watched task",r,v),(!d.value||(r==null?void 0:r.tmpId)!==(v==null?void 0:v.tmpId))&&f()});function U(){l.value?(E(l.value),m.value=!0):console.error("failed to copy task, the task is not found")}const _=C(()=>i.state.Project.projects.find(r=>r.id===t.projectId));async function o(){try{await i.dispatch("Task/fetchTemporaryTasks",{projectId:t.projectId})}catch(r){console.error("failed to dispatch fetchTemporaryTasks",r)}}G(()=>{i.watch(r=>[r.Root.eventTask],async([r])=>{var v;!r||r.projectId!==t.projectId||r.tmpId!==((v=l.value)==null?void 0:v.tmpId)||!d.value&&Pe.isFinished(r.status)&&f()}),B()});const n=y(!1),p=y(!1),N=async()=>{if(!!l.value){p.value=!1,n.value=!0;try{await $e({projectId:t.projectId,taskId:l.value.taskId}),await o()}catch(r){console.log(r)}n.value=!1}},T=y(!1),D=y(!1),z=be(),R=async()=>{D.value=!1,T.value=!0;try{await et(Number(t.id)),await o(),z.back()}catch(r){console.log(r)}T.value=!1},I=y(!0);function g(r=500){let v=!1,W=!1;return I.value=!0,setTimeout(()=>{W=!0,v&&(I.value=!1)},r),()=>{v=!0,W&&(I.value=!1)}}async function f(){if(!l.value)return;const r=g(500);d.value=null;try{d.value=await nt({taskId:l.value.taskId,projectId:l.value.projectId,tmpId:l.value.tmpId})}catch(v){console.error(v)}r()}return(r,v)=>{var W,Y,H,ne,ee;return k(),P(te,null,[e(Re,{modelValue:m.value,"onUpdate:modelValue":v[0]||(v[0]=q=>m.value=q),task:w.value,onCreated:o},null,8,["modelValue","task"]),e(se,{modelValue:p.value,"onUpdate:modelValue":v[1]||(v[1]=q=>p.value=q),content:"\u786E\u5B9A\u8981\u7ED3\u675F\u8FDB\u7A0B\u5417\uFF1F",type:"warning",onConfirm:N},null,8,["modelValue"]),e(se,{modelValue:D.value,"onUpdate:modelValue":v[2]||(v[2]=q=>D.value=q),content:"\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u4E34\u65F6\u4EFB\u52A1\u5417\uFF1F",type:"warning",onConfirm:R},null,8,["modelValue"]),J(e(L,{type:"QInput",class:"tw-h-52 tw-mb-4",animation:"fade"},null,512),[[Se,I.value]]),!I.value&&d.value?(k(),$(ae,{key:0,class:"tw-mb-4",flat:"",bordered:""},{default:a(()=>[e(Ue,null,{default:a(()=>[e(le,null,{default:a(()=>[e(O,{overline:""},{default:a(()=>[Qt]),_:1}),e(O,null,{default:a(()=>[j(Q(d.value.clientIp),1)]),_:1})]),_:1}),e(le,null,{default:a(()=>[e(O,{overline:""},{default:a(()=>[Rt]),_:1}),e(O,null,{default:a(()=>[j(Q(u(re)(d.value.startTime*1e3)),1)]),_:1})]),_:1}),e(le,null,{default:a(()=>[e(O,{overline:""},{default:a(()=>[Nt]),_:1}),e(O,null,{default:a(()=>[j(Q(u(re)(d.value.endTime*1e3)),1)]),_:1})]),_:1})]),_:1}),e(we),e(M,{class:"tw-w-full tw-overflow-x-auto"},{default:a(()=>[e(Qe,{json:d.value.result},null,8,["json"])]),_:1})]),_:1})):A("v-if",!0),I.value?(k(),P("div",zt,[e(L,{type:"QBtn",animation:"fade"})])):A("v-if",!0),I.value?A("v-if",!0):(k(),P("div",Ot,[(W=l.value)!=null&&W.isRunning?(k(),$(h,{key:0,loading:!0})):A("v-if",!0),((Y=l.value)==null?void 0:Y.isRunning)!==1&&!((H=d.value)!=null&&H.result)?(k(),$(h,{key:1,"text-color":"red",outline:"",class:"tw-w-24 tw-ml-1",loading:T.value,onClick:v[3]||(v[3]=q=>D.value=!0)},{default:a(()=>[Mt]),_:1},8,["loading"])):A("v-if",!0),((ne=l.value)==null?void 0:ne.isRunning)===1?(k(),$(h,{key:2,outline:"","text-color":"red",disable:((ee=l.value)==null?void 0:ee.isRunning)!==1,class:"tw-w-24 tw-ml-1",loading:n.value,onClick:v[4]||(v[4]=q=>p.value=!0)},{default:a(()=>[Lt]),_:1},8,["disable","loading"])):A("v-if",!0),e(h,{outline:"",class:"tw-w-24 tw-ml-1",onClick:U},{default:a(()=>[Yt]),_:1})])),I.value?(k(),P("div",Wt,[e(L,{type:"QInput",class:"tw-mb-4",square:"",animation:"fade"}),e(L,{type:"QInput",class:"tw-mb-4",square:"",animation:"fade"}),e(L,{type:"QInput",class:"tw-mb-4",square:"",animation:"fade"}),e(L,{type:"QInput",class:"tw-mb-4",square:"",animation:"fade"}),e(L,{type:"QInput",class:"tw-mb-4",square:"",animation:"fade"}),e(L,{type:"QInput",class:"tw-mb-4",square:"",animation:"fade"}),e(L,{type:"QInput",class:"tw-mb-4",square:"",animation:"fade"})])):A("v-if",!0),!I.value&&l.value?(k(),$(Fe,{key:4,class:"tw-w-full"},{default:a(()=>[l.value?(k(),$(x,{key:"id","model-value":l.value.taskId+" - "+l.value.tmpId,disable:"",label:"\u4EFB\u52A1 ID\uFF08task_id - tmp_id\uFF09",square:"",filled:"",class:"tw-mb-4"},null,8,["model-value"])):A("v-if",!0),e(x,{key:"project","model-value":u(_)?u(_).title:"",disable:"",label:"\u6240\u5C5E\u9879\u76EE",square:"",filled:"",class:"tw-mb-4"},null,8,["model-value"]),e(x,{key:"remark",modelValue:l.value.remark,"onUpdate:modelValue":v[5]||(v[5]=q=>l.value.remark=q),type:"textarea",label:"\u4EFB\u52A1\u5907\u6CE8",autogrow:"",disable:"",square:"",filled:"",class:"tw-mb-4"},null,8,["modelValue"]),e(x,{key:"cron","model-value":u(re)(l.value.scheduleTime*1e3,"YYYY-MM-DD HH:mm"),label:"\u8C03\u5EA6\u65F6\u95F4",square:"",disable:"",filled:"",class:"tw-mb-4"},null,8,["model-value"]),e(x,{key:"timeout",modelValue:l.value.timeout,"onUpdate:modelValue":v[6]||(v[6]=q=>l.value.timeout=q),modelModifiers:{number:!0},type:"number",label:"\u8D85\u65F6\u65F6\u95F4 (\u5355\u4F4D:\u79D2 s)",square:"",disable:"",filled:"",class:"tw-mb-4"},null,8,["modelValue"]),e(x,{key:"command",modelValue:l.value.command,"onUpdate:modelValue":v[7]||(v[7]=q=>l.value.command=q),placeholder:'echo "hello word"',type:"textarea",label:"\u6267\u884C\u6307\u4EE4",autogrow:"",disable:"",square:"",filled:"",class:"tw-mb-4"},null,8,["modelValue"]),e(x,{key:"noseize","model-value":l.value.noseize===1?"\u662F":"\u5426",type:"textarea",label:"\u5E76\u884C\u8C03\u5EA6",autogrow:"",disable:"",square:"",filled:"",class:"tw-mb-4"},null,8,["model-value"])]),_:1})):A("v-if",!0)],64)}}});var Kt=X(Ht,[["__file","/Users/boyan/development/opensource/gopherCronFE/src/components/TemporaryTaskDetail.vue"]]);const Jt={class:"q-ml-sm"},Gt={key:0,class:"tw-flex tw-flex-row-reverse tw-pb-3 tw-flex-wrap tw-gap-1"},Xt=j(" \u6267\u884C "),Zt={class:"q-pa-sm"},el=ue({props:{id:{type:String,default:""},projectId:{type:Number,required:!0}},setup(b){const t=b,m=C(()=>({id:"",name:"",projectId:t.projectId,command:"",remark:"",timeout:300,createTime:0,noseize:0})),w=Z(),E=C(()=>{var g;return(g=w.state.WorkFlowTask.tasks.get(t.projectId))==null?void 0:g.find(f=>f.id===t.id)}),d=C(()=>w.state.Project.projects.find(g=>g.id===t.projectId)),i=y(Object.assign({},E.value||m.value));de(()=>{i.value=Object.assign({},E.value||m.value)});const l=C(()=>JSON.stringify(E.value)!==JSON.stringify(i.value)),B=C(()=>{const{name:g,command:f,timeout:r}=i.value;return g!==""&&f!==""&&r>0}),U=C(()=>{const{name:g,command:f,timeout:r}=i.value;return g===""?"\u4EFB\u52A1\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A":f===""?"\u6267\u884C\u6307\u4EE4\u4E0D\u80FD\u4E3A\u7A7A":r<=0?"\u8D85\u65F6\u65F6\u95F4\u672A\u6307\u5B9A":""}),_=be(),o=y(!1);async function n(){o.value=!0;try{if(w.commit("cleanError"),!B.value){w.commit("error",{error:{message:U.value}});return}if(await w.dispatch("saveWorkFlowTask",{task:i.value}),await w.dispatch("WorkFlowTask/fetchTasks",{projectId:t.projectId}),z.value){const g=Object.assign([],w.state.WorkFlowTask.tasks.get(t.projectId)||[]);g.sort((r,v)=>r.createTime-v.createTime);const f=g[g.length-1];_.push({name:"workflow_task",params:{projectId:t.projectId,taskId:f.id}})}}catch(g){console.error(g),w.commit("error",{error:g})}o.value=!1}function p(){i.value=Object.assign({},E.value||m.value)}const N=y(!1);async function T(g,f){w.commit("cleanError"),await w.dispatch("deleteWorkFlowTask",{projectId:g,taskId:f}),w.state.Root.currentError===void 0&&(w.dispatch("WorkFlowTask/fetchTasks",xe({},t)),_.push({name:"workflow_tasks"}),N.value=!1)}const D=ye(),z=C(()=>D.name&&D.name.toString()==="create_workflow_task"),R=y(!1);async function I(g,f){R.value=!0;try{await Be(w.getters.apiv1,g,f)}finally{R.value=!1}}return G(()=>{w.watch(g=>[g.Root.eventWorkFlowTask],([g])=>{!g||g.projectId!==t.projectId||g.taskId!==t.id||w.dispatch("WorkFlowTask/fetchTasks",{projectId:t.projectId})})}),(g,f)=>(k(),P(te,null,[e(ge,{modelValue:N.value,"onUpdate:modelValue":f[1]||(f[1]=r=>N.value=r)},{default:a(()=>[e(ae,null,{default:a(()=>[e(M,{class:"row items-center"},{default:a(()=>{var r;return[e(tt,{icon:"delete",color:"primary","text-color":"white"}),V("span",Jt," \u662F\u5426\u8981\u5220\u9664\u4EFB\u52A1 "+Q((r=u(E))==null?void 0:r.name),1)]}),_:1}),e(ke,{align:"right"},{default:a(()=>[J(e(h,{flat:"",label:"\u53D6\u6D88",color:"primary"},null,512),[[oe,!0]]),e(h,{flat:"",label:"\u5220\u9664",color:"red",onClick:f[0]||(f[0]=()=>u(d)&&u(E)&&T(u(d).id,u(E).id))})]),_:1})]),_:1})]),_:1},8,["modelValue"]),u(z)?A("v-if",!0):(k(),P("div",Gt,[e(h,{flat:"",class:"tw-w-24 tw-text-red-300 lg:tw-hidden",icon:"delete",onClick:f[2]||(f[2]=r=>N.value=!0)}),e(h,{color:"primary","text-color":"black",disable:u(l),class:"tw-w-24",loading:R.value,onClick:f[3]||(f[3]=()=>u(E)&&I(b.projectId,u(E).id))},{default:a(()=>[Xt]),_:1},8,["disable","loading"])])),e(Fe,{class:"tw-w-full",onSubmit:n,onReset:p},{default:a(()=>[u(E)?(k(),$(x,{key:"id","model-value":u(E).id,disable:"",label:"\u4EFB\u52A1 ID",square:"",filled:"",class:"tw-mb-4"},null,8,["model-value"])):A("v-if",!0),e(x,{key:"project","model-value":u(d)?u(d).title:"",disable:"",label:"\u6240\u5C5E\u9879\u76EE",square:"",filled:"",class:"tw-mb-4"},null,8,["model-value"]),e(x,{key:"name",modelValue:i.value.name,"onUpdate:modelValue":f[4]||(f[4]=r=>i.value.name=r),label:"\u4EFB\u52A1\u540D\u79F0",square:"",filled:"",class:"tw-mb-4"},null,8,["modelValue"]),e(x,{key:"timeout",modelValue:i.value.timeout,"onUpdate:modelValue":f[5]||(f[5]=r=>i.value.timeout=r),modelModifiers:{number:!0},type:"number",label:"\u8D85\u65F6\u65F6\u95F4 (\u5355\u4F4D:\u79D2 s)",square:"",filled:"",class:"tw-mb-4"},null,8,["modelValue"]),e(x,{key:"command",modelValue:i.value.command,"onUpdate:modelValue":f[6]||(f[6]=r=>i.value.command=r),type:"textarea",placeholder:'echo "hello word"',label:"\u6267\u884C\u6307\u4EE4",autogrow:"",square:"",filled:"",class:"tw-mb-4"},null,8,["modelValue"]),e(x,{key:"remark",modelValue:i.value.remark,"onUpdate:modelValue":f[7]||(f[7]=r=>i.value.remark=r),type:"textarea",label:"\u4EFB\u52A1\u5907\u6CE8",autogrow:"",square:"",filled:"",class:"tw-mb-4"},null,8,["modelValue"]),e(me,{key:"noseize",modelValue:i.value.noseize,"onUpdate:modelValue":f[8]||(f[8]=r=>i.value.noseize=r),"false-value":0,"true-value":1,label:"\u5E76\u884C\u8C03\u5EA6",class:"tw-mb-4"},null,8,["modelValue"]),V("div",Zt,[e(h,{color:"primary","text-color":"black",type:"submit",label:"\u4FDD\u5B58",loading:o.value,disable:!u(l),class:"lg:tw-w-24 tw-w-full lg:tw-mr-4 lg:tw-mb-0 tw-mb-4"},null,8,["loading","disable"]),e(h,{color:"primary",type:"reset",label:"\u91CD\u7F6E",flat:"",disable:!u(l),class:"lg:tw-w-24 tw-w-full"},null,8,["disable"])])]),_:1})],64))}});var tl=X(el,[["__file","/Users/boyan/development/opensource/gopherCronFE/src/components/WorkFlowTaskDetail.vue"]]);const ll={class:"tw-px-4 tw-pt-2 tw-w-full tw-h-full tw-flex tw-flex-col"},al={class:"tw-text-[#7e7e7e] tw-mb-4"},ul={class:"tw-flex tw-items-center tw-justify-start tw-gap-4 tw-text-lg tw-mb-4"},ol={key:0,class:"tw-pb-4"},sl={class:"tw-flex tw-gap-2 tw-items-center"},rl=j(" \u5728\u7EBF\u8282\u70B9: "),nl={class:"tw-flex tw-w-full tw-grow"},il={class:"tw-h-full tw-w-full tw-flex tw-flex-col"},dl={key:0,class:"tw-hidden lg:tw-block"},cl=V("div",{class:"text-h6"},"\u8282\u70B9\u5217\u8868",-1),ml=V("div",{class:"text-base"},"\u4EC5 v2.4.6 \u53CA\u4EE5\u4E0A\u7248\u672C\u652F\u6301\u6743\u91CD\u53D8\u66F4",-1),pl={class:"tw-text-lg"},fl=ue({props:{id:{type:String,default:""},projectId:{type:Number,required:!0},type:{type:String,default:"crontab"}},setup(b){const t=b,m=y(!1);function w(){m.value=!0}const E=Z(),d=C(()=>E.state.Project.projects.find(T=>T.id===t.projectId)),i=ye(),l=y(),B=()=>{qe(()=>{var T;(T=l.value)==null||T.setScrollPosition("vertical",0)})},U=C(()=>i.name&&i.name.toString()===`create_${t.type}_task`),_=C(()=>{var T;if(U.value)return"detail";if(i.name){const D=i.name.toString();if(D===`${t.type}_task_logs`)return"logs";if(D===`${t.type}_task`)return"detail"}throw new Error(`Unknown route name ${(T=i.name)==null?void 0:T.toString()}`)}),{width:o}=st();async function n(){await E.dispatch("Project/fetchProjectClients",{projectId:t.projectId})}G(()=>{n()}),lt(()=>{E.commit("Project/setProjectClients",{clients:[]})});const p=C(()=>E.state.Project.projectClients.get(t.projectId)),N=C(()=>{const T=new Map;return p.value&&p.value.forEach((D,z,R)=>{let I=T.get(D.region);I||(T.set(D.region,[]),I=T.get(D.region)),I==null||I.push(D)}),T});return(T,D)=>{var z,R;return k(),P(te,null,[V("div",ll,[V("div",al,[V("div",ul,[V("span",null,[e(ce,{name:"folder"}),j(" "+Q((z=u(d))==null?void 0:z.title),1)]),V("span",null," ID: "+Q(b.projectId),1)]),u(d)&&u(d).remark.trim()!==""?(k(),P("div",ol,Q(u(d).remark),1)):A("v-if",!0),V("div",sl,[e(ce,{name:"hive"}),rl,V("span",{class:at(["tw-font-extrabold",{"tw-text-primary":u(p)&&u(p).length>0,"tw-text-red-500":!u(p)||u(p).length===0}])},Q(((R=u(p))==null?void 0:R.length)||0),3),J(V("span",{class:"tw-text-white tw-cursor-pointer",onClick:w},"\u67E5\u770B\u8282\u70B9",512),[[Se,u(p)&&u(p).length>0]])])]),u(U)?A("v-if",!0):(k(),$(Ve,{key:0,"model-value":u(_),"active-color":"primary",align:"left",class:"lg:tw-hidden tw-display"},{default:a(()=>[e(ie,{name:"detail",label:"\u8BE6\u60C5",to:{name:`${t.type}_task`,params:{taskId:t.id}},replace:""},null,8,["to"]),e(ie,{name:"logs",label:"\u65E5\u5FD7",to:{name:`${t.type}_task_logs`,params:{taskId:t.id}},replace:""},null,8,["to"])]),_:1},8,["model-value"])),V("div",nl,[V("div",il,[e(u(ut),{ref_key:"scroll",ref:l,class:"tw-grow","thumb-style":u(it),"bar-style":u(dt)},{default:a(()=>[e(ot,{"model-value":u(_),animated:"",vertical:u(o)>=1024,class:"tw-w-full tw-h-full tw-bg-[#121212] tw-p-0 lg:tw-pr-4"},{default:a(()=>[e(De,{name:"detail",class:"tw-px-0"},{default:a(()=>[t.type==="crontab"?(k(),$(Bt,{key:0,id:t.id,"project-id":t.projectId},null,8,["id","project-id"])):t.type==="workflow"?(k(),$(tl,{key:1,id:t.id,"project-id":t.projectId},null,8,["id","project-id"])):A("v-if",!0),t.type==="temporary"?(k(),$(Kt,{key:2,id:Number(t.id),"project-id":t.projectId},null,8,["id","project-id"])):A("v-if",!0)]),_:1}),e(De,{name:"logs",class:"tw-px-0"},{default:a(()=>[e(Pt,{id:t.id,"project-id":t.projectId,onOnpage:B},null,8,["id","project-id"])]),_:1})]),_:1},8,["model-value","vertical"])]),_:1},8,["thumb-style","bar-style"])]),t.type!="temporary"?(k(),P("div",dl,[u(U)?A("v-if",!0):(k(),$(Ve,{key:0,"model-value":u(_),"active-color":"primary",vertical:"","switch-indicator":"",align:"left"},{default:a(()=>[e(ie,{name:"detail",label:"\u8BE6\u60C5",to:{name:`${t.type}_task`,params:{taskId:t.id}},replace:""},null,8,["to"]),e(ie,{name:"logs",label:"\u65E5\u5FD7",to:{name:`${t.type}_task_logs`,params:{taskId:t.id}},replace:""},null,8,["to"])]),_:1},8,["model-value"]))])):A("v-if",!0)])]),e(ge,{modelValue:m.value,"onUpdate:modelValue":D[0]||(D[0]=I=>m.value=I)},{default:a(()=>[e(ae,{class:"tw-w-full"},{default:a(()=>[e(M,null,{default:a(()=>[cl,ml]),_:1}),(k(!0),P(te,null,Te(u(N),([I,g])=>(k(),P(te,{key:I},[e(M,null,{default:a(()=>[V("div",pl,"Region: "+Q(I),1)]),_:2},1024),e(M,{class:"tw-q-pt-none scroll tw-flex tw-items-center tw-justify-center tw-align-middle tw-gap-2 tw-flex-wrap",style:{"max-height":"60vh"}},{default:a(()=>[(k(!0),P(te,null,Te(g,f=>(k(),P("div",{key:f.clientIP,class:"md:tw-w-[48%] tw-w-full"},[e(vt,{"client-ip":f.clientIP,weight:f.weight,"project-id":b.projectId,version:f.version,region:f.region},null,8,["client-ip","weight","project-id","version","region"])]))),128))]),_:2},1024)],64))),128)),e(ke,{align:"right",class:"text-teal"},{default:a(()=>[J(e(h,{flat:"",label:"OK"},null,512),[[oe,!0]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}});var Il=X(fl,[["__file","/Users/boyan/development/opensource/gopherCronFE/src/pages/TaskDetail.vue"]]);export{Il as default};
