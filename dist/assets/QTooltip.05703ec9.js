var ne=Object.defineProperty,ie=Object.defineProperties;var le=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var x=(e,t,o)=>t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,f=(e,t)=>{for(var o in t||(t={}))se.call(t,o)&&x(e,o,t[o]);if(k)for(var o of k(t))re.call(t,o)&&x(e,o,t[o]);return e},b=(e,t)=>ie(e,le(t));import{a as ue,cp as ce,cq as de,cr as fe,r as H,c as g,af as ve,ag as he,cs as ge,ct as me,cu as Te,w as q,a3 as A,aq as D,ao as M,au as ye,h as j,T as pe,i as be,g as Se,a7 as Pe}from"./index.1dcbf74c.js";import{u as we,v as L,b as Oe,d as Ce,a as Ee,r as Q,s as ke,c as W,p as N,e as xe}from"./QList.cc9f532e.js";var De=ue({name:"QTooltip",inheritAttrs:!1,props:b(f(f(f({},we),ce),de),{maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:L},self:{type:String,default:"top middle",validator:L},offset:{type:Array,default:()=>[14,14],validator:Oe},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}}),emits:[...fe],setup(e,{slots:t,emit:o,attrs:m}){let s,r;const T=be(),{proxy:{$q:n}}=T,u=H(null),v=H(!1),R=g(()=>N(e.anchor,n.lang.rtl)),_=g(()=>N(e.self,n.lang.rtl)),B=g(()=>e.persistent!==!0),{registerTick:I,removeTick:U}=ve(),{registerTimeout:h}=he(),{transitionProps:V,transitionStyle:$}=ge(e),{localScrollTarget:S,changeScrollEvent:z,unconfigureScrollTarget:F}=Ce(e,C),{anchorEl:i,canShow:G,anchorEvents:c}=Ee({showing:v,configureAnchorEl:te}),{show:J,hide:y}=me({showing:v,canShow:G,handleShow:X,handleHide:Y,hideOnRouteChange:B,processOnMount:!0});Object.assign(c,{delayShow:Z,delayHide:ee});const{showPortal:P,hidePortal:w,renderPortal:K}=Te(T,u,oe,"tooltip");if(n.platform.is.mobile===!0){const a={anchorEl:i,innerRef:u,onClickOutside(l){return y(l),l.target.classList.contains("q-dialog__backdrop")&&Pe(l),!0}},p=g(()=>e.modelValue===null&&e.persistent!==!0&&v.value===!0);q(p,l=>{(l===!0?xe:Q)(a)}),A(()=>{Q(a)})}function X(a){P(),I(()=>{r=new MutationObserver(()=>d()),r.observe(u.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),d(),C()}),s===void 0&&(s=q(()=>n.screen.width+"|"+n.screen.height+"|"+e.self+"|"+e.anchor+"|"+n.lang.rtl,d)),h(()=>{P(!0),o("show",a)},e.transitionDuration)}function Y(a){U(),w(),O(),h(()=>{w(!0),o("hide",a)},e.transitionDuration)}function O(){r!==void 0&&(r.disconnect(),r=void 0),s!==void 0&&(s(),s=void 0),F(),D(c,"tooltipTemp")}function d(){ke({targetEl:u.value,offset:e.offset,anchorEl:i.value,anchorOrigin:R.value,selfOrigin:_.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Z(a){if(n.platform.is.mobile===!0){W(),document.body.classList.add("non-selectable");const p=i.value,l=["touchmove","touchcancel","touchend","click"].map(E=>[p,E,"delayHide","passiveCapture"]);M(c,"tooltipTemp",l)}h(()=>{J(a)},e.delay)}function ee(a){n.platform.is.mobile===!0&&(D(c,"tooltipTemp"),W(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),h(()=>{y(a)},e.hideDelay)}function te(){if(e.noParentEvent===!0||i.value===null)return;const a=n.platform.is.mobile===!0?[[i.value,"touchstart","delayShow","passive"]]:[[i.value,"mouseenter","delayShow","passive"],[i.value,"mouseleave","delayHide","passive"]];M(c,"anchor",a)}function C(){if(i.value!==null||e.scrollTarget!==void 0){S.value=ye(i.value,e.scrollTarget);const a=e.noParentEvent===!0?d:y;z(S.value,a)}}function ae(){return v.value===!0?j("div",b(f({},m),{ref:u,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",m.class],style:[m.style,$.value],role:"tooltip"}),Se(t.default)):null}function oe(){return j(pe,V.value,ae)}return A(O),Object.assign(T.proxy,{updatePosition:d}),K}});export{De as Q};
