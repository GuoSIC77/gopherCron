import{j as P,c as j,u as W,l as v,m as V,z as m,A as H,r as x,o as Z,k as fe,q as t,s as e,E as C,f as B,Q as I,w as ee,x as i,N as G,I as D,J as O,F as E,cw as ve,cn as S,cx as ge,cy as ye,t as Q,c3 as q,y as z,cz as ke,cA as xe,bp as te,aI as le,D as oe}from"./index.a143a9e8.js";import{Q as T}from"./QInput.ec73c9d9.js";import{Q as ae}from"./QList.d4909ec7.js";import{Q as he}from"./QScrollArea.67f1b192.js";import{_ as J}from"./Confirm.c3bc6718.js";import{a as $,b as Y,Q as L,n as _e,r as be}from"./QDialog.f7eaef00.js";import{Q as Ve}from"./QForm.26ae26aa.js";import{C as U}from"./ClosePopup.fd4c64e2.js";import{b as M,c as N,a as R}from"./QChip.ce8ee146.js";import{Q as se,a as je}from"./QInfiniteScroll.f5e3c27b.js";import{Q as Ie}from"./QSkeleton.c166441d.js";import{Q as K}from"./QCardActions.faab25dc.js";import{Q as A,b as ue}from"./QSelect.651dce6e.js";import{f as ne}from"./datetime.561112b0.js";import{t as Ce,b as $e}from"./thumbStyle.856de4cb.js";import"./use-key-composition.e38700f1.js";import"./focus-manager.fb893972.js";import"./touch.61aaf3a1.js";import"./format.865294d5.js";import"./rtl.b51694b1.js";const re=P({props:{projectId:{type:Number,required:!0},orgId:{type:String,required:!0},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(l,{emit:n}){const a=l,d=j({get:()=>a.modelValue,set:c=>n("update:modelValue",c)}),w=W(),p=j(()=>w.state.Project.projects.find(c=>c.id===a.projectId));async function f(c){w.commit("cleanError"),await w.dispatch("deleteProject",{projectId:c,orgId:a.orgId}),w.state.Root.currentError===void 0&&(d.value=!1)}return(c,y)=>{var b;return v(),V(J,{modelValue:m(d),"onUpdate:modelValue":y[0]||(y[0]=k=>H(d)?d.value=k:null),content:"\u662F\u5426\u8981\u5220\u9664\u9879\u76EE"+((b=m(p))==null?void 0:b.title)+"?",type:"warning",onConfirm:y[1]||(y[1]=k=>m(p)&&f(m(p).id))},null,8,["modelValue","content"])}}}),Ee={key:0,class:"text-h6"},Be={key:1,class:"text-h6"},ie=P({props:{projectId:{type:Number,default:0},modelValue:{type:Boolean,default:!1},orgId:{type:String,required:!0}},emits:["update:modelValue"],setup(l,{emit:n}){const a=l,d=j({get:()=>a.modelValue,set:s=>n("update:modelValue",s)}),w=W(),p=j(()=>w.state.Project.projects.find(s=>s.id===a.projectId)),f=j(()=>{const s=p.value;return{title:(s==null?void 0:s.title)||"",remark:(s==null?void 0:s.remark)||""}}),c=x(f.value),y=j(()=>{const s=c.value,_=f.value;return s.title.trim()===_.title.trim()&&s.remark.trim()===_.remark.trim()}),b=j(()=>c.value.title.trim()!==""&&!y.value);Z(()=>{fe(()=>{d.value||(c.value=Object.assign({},f.value))})});async function k(){const s=c.value;w.commit("cleanError"),a.projectId>0?await w.dispatch("updateProject",{projectId:a.projectId,title:s.title.trim(),remark:s.remark.trim(),orgId:a.orgId}):await w.dispatch("createProject",{orgId:a.orgId,title:s.title.trim(),remark:s.remark.trim()}),w.state.Root.currentError===void 0&&(d.value=!1)}return(s,_)=>(v(),V(L,{modelValue:m(d),"onUpdate:modelValue":_[2]||(_[2]=h=>H(d)?d.value=h:null),"no-backdrop-dismiss":!m(y)},{default:t(()=>[e(Y,{class:"tw-w-96 q-pa-sm"},{default:t(()=>[e(Ve,{onSubmit:k},{default:t(()=>[e($,null,{default:t(()=>[m(p)===void 0?(v(),C("div",Ee,"\u521B\u5EFA\u9879\u76EE")):(v(),C("div",Be,"\u7F16\u8F91\u9879\u76EE"))]),_:1}),e($,null,{default:t(()=>[e(T,{modelValue:c.value.title,"onUpdate:modelValue":_[0]||(_[0]=h=>c.value.title=h),type:"text",label:"\u9879\u76EE\u540D",square:"",filled:"",class:"tw-mb-4"},null,8,["modelValue"]),e(T,{modelValue:c.value.remark,"onUpdate:modelValue":_[1]||(_[1]=h=>c.value.remark=h),type:"textarea",label:"\u5907\u6CE8",square:"",filled:""},null,8,["modelValue"])]),_:1}),e($,{align:"right",class:"tw-flex tw-gap-4 tw-flex-col-reverse lg:tw-flex-row lg:tw-justify-end"},{default:t(()=>[B(e(I,{flat:"",label:"\u53D6\u6D88",class:"lg:tw-w-24 tw-w-full"},null,512),[[U]]),e(I,{color:"primary","text-color":"black",type:"submit",label:m(p)===void 0?"\u521B\u5EFA":"\u4FDD\u5B58",disable:!m(b),class:"lg:tw-w-24 tw-w-full"},null,8,["label","disable"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","no-backdrop-dismiss"]))}});function Ue(l){const n=document.createElement("textarea");n.value=l,n.contentEditable="true",n.style.position="fixed";const a=()=>{};_e(a),document.body.appendChild(n),n.focus(),n.select();const d=document.execCommand("copy");return n.remove(),be(a),d}function Fe(l){return navigator.clipboard!==void 0?navigator.clipboard.writeText(l):new Promise((n,a)=>{const d=Ue(l);d?n(!0):a(d)})}function De(l){return l?l.indexOf("manager")!==-1||l.indexOf("admin")!==-1:!1}function Qe(l){return l.indexOf("admin")!==-1}const de=[{value:"admin",label:"\u7BA1\u7406\u5458"},{value:"manager",label:"\u53EF\u7F16\u8F91"},{value:"user",label:"\u4EC5\u67E5\u770B"}],ce=new Map;de.forEach((l,n,a)=>{ce.set(l.value,l.label)});function Pe(l){return ce.get(l)}const Se=i("div",{class:"text-h6"},"\u9879\u76EE\u6210\u5458\u7BA1\u7406",-1),Ae=E(" \u6DFB\u52A0 "),Te={role:"list",class:"tw-divide-y tw-divide-white/5"},qe={class:"tw-min-w-0 tw-flex-auto"},Me={class:"tw-flex tw-items-center tw-gap-x-3"},Ne=i("div",{class:"flex-none rounded-full p-1"},[i("div",{class:"tw-h-2 tw-w-2 tw-rounded-full tw-bg-current"})],-1),Re={class:"tw-min-w-0 tw-text-sm tw-font-semibold tw-leading-6 tw-text-white"},We={class:"tw-flex tw-gap-x-2"},He={class:"tw-whitespace-nowrap"},Oe=i("span",{class:"tw-text-gray-400"}," - ",-1),Ye={class:"tw-whitespace-nowrap tw-opacity-75"},Le={class:"tw-mt-1 tw-flex tw-items-center tw-gap-x-2.5 tw-text-xs tw-leading-5 tw-text-gray-400"},ze={class:"tw-truncate tw-text-primary"},Ge=i("svg",{viewbox:"0 0 2 2",class:"tw-h-0.5 tw-w-0.5 tw-flex-none tw-fill-gray-300"},[i("circle",{cx:"1",cy:"1",r:"1"})],-1),Je={class:"tw-whitespace-nowrap"},Ke={class:"rounded-full flex-none py-1 px-2 text-xs font-medium ring-1 ring-inset"},Xe=E("\u79FB\u9664"),X=P({props:{projectId:{type:Number,default:0},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(l,{emit:n}){const a=l,d=x("user"),w=j({get:()=>a.modelValue,set:u=>n("update:modelValue",u)}),p=x([]);async function f(){p.value=await ve(S,a.projectId)}ee(()=>[a.projectId,w.value],async([,u])=>{u&&f(),c.value=""});const c=x(""),y=x(!1);async function b(){y.value=!0;try{await ge(S,a.projectId,c.value,d.value),c.value="",await f()}finally{y.value=!1}}const k=x(),s=x(!1);function _(u){k.value=u,s.value=!0}function h(){k.value=void 0,s.value=!1}async function F(u){y.value=!0;try{await ye(S,a.projectId,u.id),await f()}finally{y.value=!1}}return(u,g)=>(v(),V(L,{modelValue:m(w),"onUpdate:modelValue":g[4]||(g[4]=r=>H(w)?w.value=r:null)},{default:t(()=>{var r;return[e(J,{modelValue:s.value,"onUpdate:modelValue":g[0]||(g[0]=o=>s.value=o),type:"warning",content:`\u786E\u5B9A\u8981\u79FB\u9664\u7528\u6237 ${(r=k.value)==null?void 0:r.name} \u5417\uFF1F`,onConfirm:g[1]||(g[1]=o=>k.value&&F(k.value).then(h))},null,8,["modelValue","content"]),e(Y,{class:"tw-w-full tw-mx-6 lg:tw-w-1/2"},{default:t(()=>[e($,null,{default:t(()=>[Se]),_:1}),e(A),e($,{class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-2"},{default:t(()=>[e(T,{modelValue:c.value,"onUpdate:modelValue":g[2]||(g[2]=o=>c.value=o),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u5E10\u53F7",dense:"",outlined:"",class:"tw-grow"},null,8,["modelValue"]),e(ue,{modelValue:d.value,"onUpdate:modelValue":g[3]||(g[3]=o=>d.value=o),outlined:"",dense:"",class:"tw-w-full md:tw-w-32","emit-value":"","map-options":"",placeholder:"\u8BF7\u9009\u62E9\u7528\u6237\u6743\u9650",options:m(de)},null,8,["modelValue","options"]),e(I,{loading:y.value,outline:"","text-color":"primary",onClick:b},{default:t(()=>[Ae]),_:1},8,["loading"])]),_:1}),e(A),e($,{style:{"max-height":"40vh",height:"40vh"},class:"scroll"},{default:t(()=>[e(se,{class:"tw-w-full tw-h-full",offset:100},{default:t(()=>[i("ul",Te,[(v(!0),C(O,null,G(p.value,o=>(v(),C("li",{key:o.id,class:"tw-relative tw-flex tw-items-center tw-space-x-4 tw-py-2"},[i("div",qe,[i("div",Me,[Ne,i("h2",Re,[i("a",We,[i("span",He,D(o.name),1),Oe,i("span",Ye,D(o.permissions&&m(Pe)(o.permissions[0])),1)])])]),i("div",Le,[i("p",ze,D(o.account),1),Ge,i("p",Je,D(m(ne)(o.createTime*1e3,"YYYY-MM-DD HH:mm")),1)])]),i("div",Ke,[e(I,{type:"primary",unelevated:"",class:"tw-text-red-500",onClick:we=>_(o)},{default:t(()=>[Xe]),_:2},1032,["onClick"])])]))),128))])]),_:1})]),_:1}),e(A),e(K,{align:"right"},{default:t(()=>[B(e(I,{flat:"",label:"\u5173\u95ED",color:"primary"},null,512),[[U]])]),_:1})]),_:1})]}),_:1},8,["modelValue"]))}});async function Ze(l){return(await S.post("/webhook/create",{project_id:l.projectId,call_back_url:l.callBackUrl,type:l.type})).data}async function et(l,n){return(await S.post("/webhook/delete",{project_id:l,type:n})).data}async function tt(l){const a=(await S.get("/webhook/list",{params:{project_id:l}})).data,d=a.response?a.response:[],w=[];return d.forEach((p,f)=>{w.push({projectId:p.project_id,type:p.type,callBackUrl:p.callback_url,createTime:p.create_time})}),w}const me=[{value:"task-result",label:"\u6267\u884C\u7ED3\u675F"},{value:"task-failure",label:"\u6267\u884C\u5931\u8D25"}],pe=new Map;me.forEach((l,n,a)=>{pe.set(l.value,l.label)});function lt(l){return pe.get(l)}const ot=i("div",{class:"text-h6"},"WebHook\u7BA1\u7406",-1),at=E(" \u6DFB\u52A0 "),st={role:"list",class:"tw-divide-y tw-divide-white/5"},ut={class:"tw-min-w-0 tw-flex-auto"},nt={class:"tw-flex tw-items-center tw-gap-x-3"},rt=i("div",{class:"flex-none rounded-full p-1"},[i("div",{class:"tw-h-2 tw-w-2 tw-rounded-full tw-bg-current"})],-1),it={class:"tw-min-w-0 tw-text-sm tw-font-semibold tw-leading-6 tw-text-white"},dt={class:"tw-flex tw-gap-x-2"},ct={class:"tw-whitespace-nowrap"},mt={class:"tw-mt-1 tw-flex tw-items-center tw-gap-x-2.5 tw-text-xs tw-leading-5 tw-text-gray-400"},pt={class:"tw-truncate tw-text-primary"},wt=i("svg",{viewbox:"0 0 2 2",class:"tw-h-0.5 tw-w-0.5 tw-flex-none tw-fill-gray-300"},[i("circle",{cx:"1",cy:"1",r:"1"})],-1),ft={key:0,class:"tw-whitespace-nowrap"},vt={class:"rounded-full flex-none py-1 px-2 text-xs font-medium ring-1 ring-inset"},gt=E("\u79FB\u9664"),yt=P({props:{projectId:{type:Number,default:0},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(l,{emit:n}){const a=l,d=j({get:()=>a.modelValue,set:u=>n("update:modelValue",u)}),w=x([]);async function p(){w.value=await tt(a.projectId)}ee(()=>[a.projectId,d.value],async([,u])=>{u&&p(),c()});const f=x({callBackUrl:"",type:"task-result",projectId:a.projectId});function c(){f.value={callBackUrl:"",type:"task-result",createTime:void 0,projectId:a.projectId}}const y=x(!1);async function b(){if(!!f.value){y.value=!0;try{await Ze({projectId:Number(f.value.projectId),callBackUrl:f.value.callBackUrl,type:f.value.type}),c(),await p()}finally{y.value=!1}}}const k=x(),s=x(!1);function _(u){k.value=u,s.value=!0}function h(){k.value=void 0,s.value=!1}async function F(u){y.value=!0;try{await et(u.projectId,u.type),await p()}finally{y.value=!1}}return(u,g)=>(v(),V(L,{modelValue:m(d),"onUpdate:modelValue":g[4]||(g[4]=r=>H(d)?d.value=r:null)},{default:t(()=>{var r;return[e(J,{modelValue:s.value,"onUpdate:modelValue":g[0]||(g[0]=o=>s.value=o),type:"warning",content:`\u786E\u5B9A\u8981\u79FB\u9664 ${(r=k.value)==null?void 0:r.callBackUrl} \u5417\uFF1F`,onConfirm:g[1]||(g[1]=o=>k.value&&F(k.value).then(h))},null,8,["modelValue","content"]),e(Y,{class:"tw-w-full tw-mx-6 lg:tw-w-1/2"},{default:t(()=>[e($,null,{default:t(()=>[ot]),_:1}),e(A),e($,{class:"tw-flex md:tw-flex-row tw-flex-col tw-gap-2"},{default:t(()=>[e(T,{modelValue:f.value.callBackUrl,"onUpdate:modelValue":g[2]||(g[2]=o=>f.value.callBackUrl=o),placeholder:"\u8BF7\u8F93\u5165webhook\u5730\u5740",dense:"",outlined:"",class:"tw-grow"},null,8,["modelValue"]),e(ue,{modelValue:f.value.type,"onUpdate:modelValue":g[3]||(g[3]=o=>f.value.type=o),outlined:"",dense:"",class:"tw-w-full md:tw-w-32","emit-value":"","map-options":"",placeholder:"\u8BF7\u9009\u62E9hook\u7C7B\u578B",options:m(me)},null,8,["modelValue","options"]),e(I,{loading:y.value,outline:"","text-color":"primary",onClick:b},{default:t(()=>[at]),_:1},8,["loading"])]),_:1}),e(A),e($,{style:{"max-height":"40vh",height:"40vh"},class:"scroll"},{default:t(()=>[e(se,{class:"tw-w-full tw-h-full",offset:100},{default:t(()=>[i("ul",st,[(v(!0),C(O,null,G(w.value,o=>(v(),C("li",{key:o.type,class:"tw-relative tw-flex tw-items-center tw-space-x-4 tw-py-2"},[i("div",ut,[i("div",nt,[rt,i("h2",it,[i("a",dt,[i("span",ct,D(o.callBackUrl),1)])])]),i("div",mt,[i("p",pt,D(m(lt)(o.type)),1),wt,o.createTime?(v(),C("p",ft,D(m(ne)(o.createTime*1e3,"YYYY-MM-DD HH:mm")),1)):Q("",!0)])]),i("div",vt,[e(I,{type:"primary",unelevated:"",class:"tw-text-red-500",onClick:we=>_(o)},{default:t(()=>[gt]),_:2},1032,["onClick"])])]))),128))])]),_:1})]),_:1}),e(A),e(K,{align:"right"},{default:t(()=>[B(e(I,{flat:"",label:"\u5173\u95ED",color:"primary"},null,512),[[U]])]),_:1})]),_:1})]}),_:1},8,["modelValue"]))}}),kt=E("\u7F16\u8F91"),xt=E("\u4EBA\u5458\u7BA1\u7406"),ht=E("Webhook"),_t=E("\u9879\u76EEtoken"),bt=E("\u5220\u9664"),Vt=i("div",{class:"text-h6"},"\u9879\u76EE Token",-1),jt=P({props:{projectId:{type:Number,required:!0},role:{type:String,default:""},orgId:{type:String,required:!0}},setup(l){const n=l,a=x(!1),d=W(),w=x(!1),p=x(!1),f=x(!1),c=x(!1),y=x(!1),b=x(!1),k=x(""),s=x(!1);async function _(){s.value=!1,k.value="",y.value=!0,b.value=!0;try{const g=await ke(n.projectId);k.value=g}catch(g){console.error(g)}b.value=!1}function h(){Fe(k.value).then(()=>{d.commit("success",{message:"token\u5DF2\u590D\u5236"})})}const F=x(!1);async function u(){F.value=!0;try{k.value=await xe(n.projectId)}catch(g){console.error(g)}F.value=!1,s.value=!1}return(g,r)=>(v(),C(O,null,[e(re,{modelValue:w.value,"onUpdate:modelValue":r[0]||(r[0]=o=>w.value=o),"project-id":n.projectId,"org-id":l.orgId},null,8,["modelValue","project-id","org-id"]),e(ie,{modelValue:p.value,"onUpdate:modelValue":r[1]||(r[1]=o=>p.value=o),"project-id":n.projectId,"org-id":l.orgId},null,8,["modelValue","project-id","org-id"]),e(X,{modelValue:f.value,"onUpdate:modelValue":r[2]||(r[2]=o=>f.value=o),"project-id":n.projectId},null,8,["modelValue","project-id"]),e(yt,{modelValue:c.value,"onUpdate:modelValue":r[3]||(r[3]=o=>c.value=o),"project-id":n.projectId},null,8,["modelValue","project-id"]),e(X),e(je,{modelValue:a.value,"onUpdate:modelValue":r[8]||(r[8]=o=>a.value=o),flat:"","dropdown-icon":"more_horiz","no-icon-animation":""},{default:t(()=>[e(ae,{dense:""},{default:t(()=>[B((v(),V(R,{clickable:"",class:"hover:tw-bg-primary hover:tw-text-black",onClick:r[4]||(r[4]=q(o=>p.value=!0,["stop"]))},{default:t(()=>[e(M,null,{default:t(()=>[e(N,null,{default:t(()=>[kt]),_:1})]),_:1})]),_:1})),[[U]]),B((v(),V(R,{clickable:"",class:"hover:tw-bg-primary hover:tw-text-black",onClick:r[5]||(r[5]=q(o=>f.value=!0,["stop"]))},{default:t(()=>[e(M,null,{default:t(()=>[e(N,null,{default:t(()=>[xt]),_:1})]),_:1})]),_:1})),[[U]]),B((v(),V(R,{clickable:"",class:"hover:tw-bg-primary hover:tw-text-black",onClick:r[6]||(r[6]=q(o=>c.value=!0,["stop"]))},{default:t(()=>[e(M,null,{default:t(()=>[e(N,null,{default:t(()=>[ht]),_:1})]),_:1})]),_:1})),[[U]]),m(Qe)(l.role)?B((v(),V(R,{key:0,clickable:"",class:"hover:tw-bg-primary hover:tw-text-black",onClick:q(_,["stop"])},{default:t(()=>[e(M,null,{default:t(()=>[e(N,null,{default:t(()=>[_t]),_:1})]),_:1})]),_:1},8,["onClick"])),[[U]]):Q("",!0),B((v(),V(R,{clickable:"",class:"hover:tw-bg-primary hover:tw-text-black",onClick:r[7]||(r[7]=q(o=>w.value=!0,["stop"]))},{default:t(()=>[e(M,null,{default:t(()=>[e(N,null,{default:t(()=>[bt]),_:1})]),_:1})]),_:1})),[[U]])]),_:1})]),_:1},8,["modelValue"]),e(L,{modelValue:y.value,"onUpdate:modelValue":r[11]||(r[11]=o=>y.value=o)},{default:t(()=>[e(Y,{class:"tw-w-[400px] tw-max-w-full"},{default:t(()=>[e($,null,{default:t(()=>[Vt]),_:1}),e($,{class:"q-pt-none"},{default:t(()=>[b.value?(v(),V(Ie,{key:0,type:"rect"})):(v(),V(T,{key:1,modelValue:k.value,"onUpdate:modelValue":r[9]||(r[9]=o=>k.value=o),dark:"",borderless:"",readonly:!0},{append:t(()=>[e(z,{name:"file_copy",class:"tw-cursor-pointer",onClick:h})]),_:1},8,["modelValue"]))]),_:1}),e(K,{align:"right"},{default:t(()=>[s.value?Q("",!0):B((v(),V(I,{key:0,flat:"",label:"\u91CD\u7F6E",color:"warning",onClick:r[10]||(r[10]=o=>s.value=!0)},null,512)),[[U]]),s.value?(v(),V(I,{key:1,flat:"",label:"\u6211\u786E\u5B9A\u91CD\u7F6E",color:"red",loading:F.value,onClick:u},null,8,["loading"])):Q("",!0),B(e(I,{flat:"",label:"\u5173\u95ED",color:"primary"},null,512),[[U]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),It={class:"tw-h-full tw-w-full tw-flex tw-flex-col"},Ct={class:"q-pa-md tw-flex tw-justify-around"},$t={key:0,class:"tw-w-full tw-text-center tw-m-auto tw-text-gray-500"},Et=E(" \u6682\u65E0\u6570\u636E "),Bt=P({props:{orgId:{type:String,required:!0}},setup(l){const n=l,a=W(),d=j(()=>a.state.Project.loadingProjects);async function w(){await a.dispatch("Project/fetchProjects",{orgId:n.orgId})}Z(w);const p=x(""),f=j(()=>a.state.Project.projects.filter(_=>_.title.indexOf(p.value)>=0||_.id.toString().indexOf(p.value)>=0));function c(_){return oe().params.projectId===_.id.toString()}const y=x(!1),b=x(!1),k=j(()=>f.value.filter(c).pop()),s=j(()=>a.getters.isAdmin);return(_,h)=>{const F=te("router-link");return v(),C("div",It,[m(k)?(v(),V(re,{key:0,modelValue:b.value,"onUpdate:modelValue":h[0]||(h[0]=u=>b.value=u),"project-id":m(k).id,"org-id":l.orgId},null,8,["modelValue","project-id","org-id"])):Q("",!0),e(ie,{modelValue:y.value,"onUpdate:modelValue":h[1]||(h[1]=u=>y.value=u),"org-id":l.orgId},null,8,["modelValue","org-id"]),i("div",Ct,[e(T,{modelValue:p.value,"onUpdate:modelValue":h[2]||(h[2]=u=>p.value=u),borderless:"",dense:"",debounce:"300",placeholder:"Search"},{append:t(()=>[e(z,{name:"search"})]),_:1},8,["modelValue"]),e(I,{flat:"",dense:"",loading:m(d),icon:"refresh",onClick:w},null,8,["loading"]),e(I,{flat:"",dense:"",icon:"add",onClick:h[3]||(h[3]=u=>y.value=!0)}),e(I,{flat:"",dense:"",class:"tw-text-red-300 lg:tw-flex tw-hidden",icon:"delete",disable:!m(k),onClick:h[4]||(h[4]=u=>b.value=!0)},null,8,["disable"])]),e(he,{class:"tw-grow tw-px-[15px]",visible:"","thumb-style":m(Ce),"bar-style":m($e)},{default:t(()=>[e(ae,{class:"tw-flex tw-flex-col tw-gap-2 tw-pb-4"},{default:t(()=>[(v(!0),C(O,null,G(m(f),u=>(v(),C("div",{key:u.id,class:le((c(u)?"tw-bg-primary tw-text-black ":"tw-bg-[#27272a] ")+"tw-w-full tw-flex tw-flex-row tw-rounded-md")},[e(F,{class:"tw-grow tw-p-4",to:{name:"project",params:{projectId:u.id}}},{default:t(()=>[E(D(u.title),1)]),_:2},1032,["to"]),m(s)||m(De)(u.role)?(v(),V(jt,{key:0,"project-id":u.id,"org-id":l.orgId,role:u.role},null,8,["project-id","org-id","role"])):Q("",!0)],2))),128))]),_:1}),!m(d)&&(!m(f)||m(f).length===0)?(v(),C("div",$t,[e(z,{name:"outlet",style:{"font-size":"3rem"}}),Et])):Q("",!0)]),_:1},8,["thumb-style","bar-style"])])}}}),Ut={class:"lg:tw-flex lg:tw-flex-row tw-w-full tw-h-full"},Xt=P({props:{orgId:{type:String,required:!0}},setup(l){const n=oe(),a=j(()=>n.name&&n.name.toString()!=="projects"?"tw-hidden lg:tw-block":"");return(d,w)=>{const p=te("router-view");return v(),C("div",Ut,[i("div",{class:le("xl:tw-basis-1/5 tw-basis-1/4 tw-h-full tw-w-full tw-min-w-[280px] "+m(a))},[l.orgId?(v(),V(Bt,{key:0,"org-id":l.orgId},null,8,["org-id"])):Q("",!0)],2),e(p)])}}});export{Xt as default};
