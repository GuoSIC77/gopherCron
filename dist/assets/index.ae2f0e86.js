import{a9 as p}from"./index.1e2cf3d3.js";import{g as v}from"./datetime.561112b0.js";var h={},f=v(p),o={};Object.defineProperty(o,"__esModule",{value:!0});var b=function(){function e(t){this._observers=new Map,this._subscribed=!1;var i=(t!=null?t:{}).delay,n=i===void 0?33:i;this._delay=n,this._handler=this._handleResize.bind(this)}return e.prototype.addObserver=function(t,i){return this._observers.set(t,i),i(this._getEvent()),this},e.prototype.deleteObserver=function(t){return this._observers.delete(t),this},e.prototype.deleteObservers=function(){return this._observers.clear(),this},e.prototype.notifyObservers=function(t){return this._observers.forEach(function(i){i(t)}),this},e.prototype.subscribe=function(){return typeof window=="undefined"||this._subscribed||(window.addEventListener("resize",this._handler),window.addEventListener("orientationchange",this._handler),this._subscribed=!0),this},e.prototype.unsubscribe=function(){return this._subscribed?(window.removeEventListener("resize",this._handler),window.removeEventListener("orientationchange",this._handler),this._subscribed=!1,this):this},e.prototype.setDelay=function(t){return this._delay=t,this},e.prototype.hasObserver=function(){return this._observers.size>0},e.prototype.dispatch=function(){return this._dispatch(),this},e.prototype._getEvent=function(){return typeof window=="undefined"?{width:0,height:0}:{width:window.innerWidth,height:window.innerHeight}},e.prototype._dispatch=function(){var t=this._getEvent();this.notifyObservers(t)},e.prototype._handleResize=function(){var t=this;clearTimeout(this._timer),this._timer=setTimeout(function(){t._dispatch()},this._delay)},e}();o.WindowResizeSubject=b;Object.defineProperty(h,"__esModule",{value:!0});var s,r=f,_=o,d=typeof window!="undefined",w=function(e){return e!=null?e:d?window.innerWidth:0},l=function(e){return e!=null?e:d?window.innerHeight:0},y=function(e){var t=0,i=e(),n=r.reactive({width:w(void 0),height:l(void 0)});return i.addObserver("composition-api",function(u){var c=u.width,a=u.height;n.width=c,n.height=a}),function(){return t===0&&i.subscribe().dispatch(),++t,r.onUnmounted(function(){(t=Math.max(t-1,0))===0&&i.unsubscribe()}),{width:r.computed(function(){return n.width}),height:r.computed(function(){return n.height})}}}(function(){return s||(s=new _.WindowResizeSubject),s}),z=h.useWindowSize=y;export{z as u};
